<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>gs-utils: tests</title>
<style>
	body {
		color-scheme: dark;
		color: #fff;
		background-color: #000;
	}
	#square1,
	#square2 {
		width: 32px;
		height: 18px;
		background-color: gray;
	}
	#square2 {
		background-color: darkblue;
	}
	#square3 {
		width: 50%;
		height: 50%;
		background-color: gray;
	}
	.circle1,
	.circle2 {
		width: 10px;
		height: 10px;
		border-radius: 50%;
		background-color: #00abff;
	}
</style>
</head>
<body>

<!-- ....................................................................... -->
	<div id="square1"></div><br/>
	<div id="square2">
		lorem
		<div id="square3"></div>
		<div class="circle1"></div>
	</div><br/>
	<div class="circle1" data-foo data-bar data-bar2></div><br/>
	<div class="circle2" data-a="21" data-b="abc" data-c data-d="-3.14"></div>
	<div id="classes"></div>
	<div id="eljq_1">
		<div class="a"></div>
		<div class="b"></div>
		<div class="b"></div>
	</div>
	<div id="eljq_2">
		<div class="a"></div>
		<div class="b" data-rrr></div>
		<div class="b"></div>
	</div>
	<div id="eljq_3">
		<div class="a"></div>
		<div class="b"></div>
		<div class="b" data-rrr></div>
	</div>
	<div id="eljq_text">
		<div class="a">Aa</div>
		<div class="b">Bb</div>
	</div>
	<div id="eljq_value">
		<input type="text" value="initA" />
		<input type="text" value="initB" />
	</div>
	<abc-custom id="eljq_tag">oye</abc-custom>
	<div id="eljq_find">
		<div data-i="0">a0</div>
		<div data-i="1">a1</div>
		<div data-i="2">a2</div>
		<div data-i="3">a3</div>
		<div data-i="4">a4</div>
		<div data-i="5">a5</div>
	</div>
	<div id="eljq_jquery">
		<div class="a">
			<div class="b">b0</div>
			<div class="b">b1</div>
		</div>
		<div class="b">b2</div>
	</div>
	<div id="eljq_parent">
		<div id="eljq_parent_a">
			<div id="eljq_parent_b"></div>
		</div>
	</div>
	<div id="eljq_append"></div>
	<div id="eljq_index">
		<div id="eljq_index_0"></div>
		<div id="eljq_index_1"></div>
		<div id="eljq_index_2"></div>
	</div>

<!-- ....................................................................... -->
<script src="gs-utils.js"></script>
<script src="gs-utils-dom.js"></script>
<script src="gs-utils-func.js"></script>
<script src="gs-utils-math.js"></script>
<script src="gs-utils-json.js"></script>
<script src="gs-utils-audio.js"></script>
<script src="gs-utils-jquery.js"></script>
<script src="gs-utils-checkType.dev.js"></script>

<!-- ....................................................................... -->
<script>
	function lg( a ) { return console.log( ...arguments ), a; }

	let nbGroups = 0;
	let nbTests = 0;
	let nbTestsOk = 0;
	let toWait = 0;

	async function tests( name, fn ) {
		++toWait;
		++nbGroups;
		await fn( name );
		--toWait;
	}
	function test( id, val, expected ) {
		++nbTests;
		if ( GSUisEqual( val, expected ) ) {
			++nbTestsOk;
		} else {
			console.log( `test:${ id }`, val, "!==", expected );
		}
	}
	function testStrict( id, val, expected ) {
		++nbTests;
		if ( val === expected ) {
			++nbTestsOk;
		} else {
			console.log( `testStrict:${ id }`, val, "!==", expected );
		}
	}
	function testThrow( id, errorType, fn ) {
		++nbTests;
		try {
			fn();
			console.log( `testThrow:${ id } should have thrown something` );
		} catch ( e ) {
			if ( errorType === GSUcheckType_lastError ) {
				++nbTestsOk;
			} else {
				console.log( `testThrow:${ id }`, GSUcheckType_lastError, "!==", errorType );
			}
		}
	}
</script>

<!-- ....................................................................... -->
<!-- ..... gs-utils-checkType .............................................. -->
<!-- ....................................................................... -->
<script>
	tests( "GSUcheckType:number", () => {
		test( "checkType_00", GSUcheckType(   0,       "number" ), true  );
		test( "checkType_01", GSUcheckType(  21,       "number" ), true  );
		test( "checkType_02", GSUcheckType( -21,       "number" ), true  );
		test( "checkType_03", GSUcheckType(   1.5,     "number" ), true  );
		test( "checkType_04", GSUcheckType(  -1.5,     "number" ), true  );
		test( "checkType_05", GSUcheckType(  "0",      "number" ), false );
		test( "checkType_06", GSUcheckType( "21",      "number" ), false );
		test( "checkType_07", GSUcheckType( NaN,       "number" ), false );
		test( "checkType_08", GSUcheckType( null,      "number" ), false );
		test( "checkType_09", GSUcheckType( true,      "number" ), false );
		test( "checkType_0a", GSUcheckType( false,     "number" ), false );
		test( "checkType_0b", GSUcheckType( undefined, "number" ), false );
		test( "checkType_0c", GSUcheckType( GSUnoop,   "number" ), false );
		test( "checkType_0d", GSUcheckType( 0 / 0,     "number-NaN"  ), true );
		test( "checkType_0e", GSUcheckType( null,      "number-null" ), true );
	} );
	tests( "GSUcheckType:integer", () => {
		test( "checkType_10", GSUcheckType(   0,       "integer" ), true  );
		test( "checkType_11", GSUcheckType(  21,       "integer" ), true  );
		test( "checkType_12", GSUcheckType( -21,       "integer" ), true  );
		test( "checkType_13", GSUcheckType(   1.5,     "integer" ), false );
		test( "checkType_14", GSUcheckType(  -1.5,     "integer" ), false );
		test( "checkType_15", GSUcheckType(  "0",      "integer" ), false );
		test( "checkType_16", GSUcheckType( "21",      "integer" ), false );
		test( "checkType_17", GSUcheckType( NaN,       "integer" ), false );
		test( "checkType_18", GSUcheckType( null,      "integer" ), false );
		test( "checkType_19", GSUcheckType( true,      "integer" ), false );
		test( "checkType_1a", GSUcheckType( false,     "integer" ), false );
		test( "checkType_1b", GSUcheckType( undefined, "integer" ), false );
		test( "checkType_1c", GSUcheckType( GSUnoop,   "integer" ), false );
	} );
	tests( "GSUcheckType:function", () => {
		test( "checkType_20", GSUcheckType( GSUnoop,      "function" ), true  );
		test( "checkType_21", GSUcheckType( GSUnoopFalse, "function" ), true  );
		test( "checkType_22", GSUcheckType( NaN,          "function" ), false );
		test( "checkType_23", GSUcheckType( null,         "function" ), false );
		test( "checkType_24", GSUcheckType( true,         "function" ), false );
		test( "checkType_25", GSUcheckType( false,        "function" ), false );
		test( "checkType_26", GSUcheckType( undefined,    "function" ), false );
	} );
	tests( "GSUcheckType:string", () => {
		test( "checkType_30", GSUcheckType( "",        "string" ), true  );
		test( "checkType_31", GSUcheckType( "a",       "string" ), true  );
		test( "checkType_32", GSUcheckType( "abc",     "string" ), true  );
		test( "checkType_33", GSUcheckType( "0",       "string" ), true  );
		test( "checkType_34", GSUcheckType( "21",      "string" ), true  );
		test( "checkType_35", GSUcheckType( NaN,       "string" ), false );
		test( "checkType_36", GSUcheckType( null,      "string" ), false );
		test( "checkType_37", GSUcheckType( true,      "string" ), false );
		test( "checkType_38", GSUcheckType( false,     "string" ), false );
		test( "checkType_39", GSUcheckType( undefined, "string" ), false );
	} );
	tests( "GSUcheckType:number-inRange", () => {
		test( "checkType_40", GSUcheckType(  21.5, "number-inRange",  20,  22 ), true  );
		test( "checkType_41", GSUcheckType(  21,   "number-inRange",  21,  21 ), true  );
		test( "checkType_42", GSUcheckType( -21.5, "number-inRange", -20, -22 ), true  );
		test( "checkType_43", GSUcheckType( -21,   "number-inRange", -22, -20 ), true  );
		test( "checkType_44", GSUcheckType( -21,   "number-inRange", -21, -21 ), true  );
		test( "checkType_45", GSUcheckType(  42,   "number-inRange",   0,  20 ), false );
	} );
	tests( "GSUcheckType:integer-inRange", () => {
		test( "checkType_40", GSUcheckType(  21,   "integer-inRange",  21,  21 ), true  );
		test( "checkType_41", GSUcheckType( -21,   "integer-inRange", -22, -20 ), true  );
		test( "checkType_42", GSUcheckType( -21,   "integer-inRange", -21, -21 ), true  );
		test( "checkType_43", GSUcheckType(  21.5, "integer-inRange",  20,  22 ), false );
		test( "checkType_44", GSUcheckType( -21.5, "integer-inRange", -20, -22 ), false );
		test( "checkType_45", GSUcheckType(  42,   "integer-inRange",   0,  20 ), false );
	} );
	tests( "GSUcheckType:array", () => {
		test( "checkType_50", GSUcheckType( [],        "array" ), true  );
		test( "checkType_51", GSUcheckType( [ 21 ],    "array" ), true  );
		test( "checkType_52", GSUcheckType( {},        "array" ), false );
		test( "checkType_53", GSUcheckType( NaN,       "array" ), false );
		test( "checkType_54", GSUcheckType( null,      "array" ), false );
		test( "checkType_55", GSUcheckType( true,      "array" ), false );
		test( "checkType_56", GSUcheckType( false,     "array" ), false );
		test( "checkType_57", GSUcheckType( undefined, "array" ), false );
	} );
	tests( "GSUcheckType:object", () => {
		test( "checkType_60", GSUcheckType( {},        "object" ), true  );
		test( "checkType_61", GSUcheckType( [],        "object" ), false );
		test( "checkType_62", GSUcheckType( [ 21 ],    "object" ), false );
		test( "checkType_63", GSUcheckType( NaN,       "object" ), false );
		test( "checkType_64", GSUcheckType( null,      "object" ), false );
		test( "checkType_65", GSUcheckType( true,      "object" ), false );
		test( "checkType_66", GSUcheckType( false,     "object" ), false );
		test( "checkType_67", GSUcheckType( undefined, "object" ), false );
	} );
	tests( "GSUcheckType:arrayOfNumber", () => {
		test( "checkType_70", GSUcheckType( [],            "arrayOfNumber" ), true  );
		test( "checkType_71", GSUcheckType( [ 1 ],         "arrayOfNumber" ), true  );
		test( "checkType_72", GSUcheckType( [ 1, 2 ],      "arrayOfNumber" ), true  );
		test( "checkType_73", GSUcheckType( [ 1, 2, 3.5 ], "arrayOfNumber" ), true  );
		test( "checkType_74", GSUcheckType( [ 1, 2, "" ],  "arrayOfNumber" ), false );
		test( "checkType_75", GSUcheckType( "123",         "arrayOfNumber" ), false );
		test( "checkType_76", GSUcheckType( GSUnoop,       "arrayOfNumber" ), false );
		test( "checkType_77", GSUcheckType( NaN,           "arrayOfNumber" ), false );
		test( "checkType_78", GSUcheckType( null,          "arrayOfNumber" ), false );
		test( "checkType_79", GSUcheckType( true,          "arrayOfNumber" ), false );
		test( "checkType_7a", GSUcheckType( false,         "arrayOfNumber" ), false );
		test( "checkType_7b", GSUcheckType( undefined,     "arrayOfNumber" ), false );
	} );
	tests( "GSUcheckType:arrayOfInteger", () => {
		test( "checkType_80", GSUcheckType( [],            "arrayOfInteger" ), true  );
		test( "checkType_81", GSUcheckType( [ 1 ],         "arrayOfInteger" ), true  );
		test( "checkType_82", GSUcheckType( [ 1, 2 ],      "arrayOfInteger" ), true  );
		test( "checkType_83", GSUcheckType( [ 1, 2, 3.5 ], "arrayOfInteger" ), false );
		test( "checkType_84", GSUcheckType( [ 1, 2, "" ],  "arrayOfInteger" ), false );
		test( "checkType_85", GSUcheckType( "123",         "arrayOfInteger" ), false );
		test( "checkType_86", GSUcheckType( GSUnoop,       "arrayOfInteger" ), false );
		test( "checkType_87", GSUcheckType( NaN,           "arrayOfInteger" ), false );
		test( "checkType_88", GSUcheckType( null,          "arrayOfInteger" ), false );
		test( "checkType_89", GSUcheckType( true,          "arrayOfInteger" ), false );
		test( "checkType_8a", GSUcheckType( false,         "arrayOfInteger" ), false );
		test( "checkType_8b", GSUcheckType( undefined,     "arrayOfInteger" ), false );
	} );
	tests( "GSUcheckType:oneOf", () => {
		test( "checkType_90", GSUcheckType(  0,      "oneOf", [ 0, 21 ]    ), true  );
		test( "checkType_91", GSUcheckType( 21,      "oneOf", [ 0, 21 ]    ), true  );
		test( "checkType_92", GSUcheckType( null,    "oneOf", [ null ]     ), true  );
		test( "checkType_93", GSUcheckType( "42",    "oneOf", [ 41, "42" ] ), true  );
		test( "checkType_94", GSUcheckType( GSUnoop, "oneOf", [ GSUnoop ]  ), true  );
		test( "checkType_95", GSUcheckType( 10,      "oneOf", [ 0, 21 ]    ), false );
		test( "checkType_96", GSUcheckType( "21",    "oneOf", [ 0, 21 ]    ), false );
		test( "checkType_97", GSUcheckType( "21",    "oneOf", [ 0, 21 ]    ), false );
	} );
	tests( "GSUcheckType:objay", () => {
		test( "checkType_a0", GSUcheckType( {},        "objay" ), true  );
		test( "checkType_a1", GSUcheckType( [],        "objay" ), true  );
		test( "checkType_a2", GSUcheckType( [ 21 ],    "objay" ), true  );
		test( "checkType_a3", GSUcheckType( null,      "objay" ), false );
		test( "checkType_a4", GSUcheckType( undefined, "objay" ), false );
		test( "checkType_a5", GSUcheckType( GSUnoop,   "objay" ), false );
		test( "checkType_a6", GSUcheckType( 21,        "objay" ), false );
		test( "checkType_a7", GSUcheckType( "abc",     "objay" ), false );
		test( "checkType_a8", GSUcheckType( "",        "objay" ), false );
	} );
</script>

<!-- ....................................................................... -->
<!-- ..... gs-utils-math ................................................... -->
<!-- ....................................................................... -->
<script>
	tests( "GSUmathApprox", () => {
		test( "mathApprox_0", GSUmathApprox(   0,     0,  0 ),  true );
		test( "mathApprox_1", GSUmathApprox(  -0,    -0,  0 ),  true );
		test( "mathApprox_2", GSUmathApprox(  21,    21,  0 ),  true );
		test( "mathApprox_3", GSUmathApprox(  20.9,  21, .1 ),  true );
		test( "mathApprox_4", GSUmathApprox(  21.1,  21, .1 ),  true );
		test( "mathApprox_5", GSUmathApprox(  80,   100, 20 ),  true );
		test( "mathApprox_6", GSUmathApprox( 120,   100, 20 ),  true );
		test( "mathApprox_7", GSUmathApprox( 120.1, 100, 20 ),  false );
		test( "mathApprox_8", GSUmathApprox(  79.9, 100, 20 ),  false );
		test( "mathApprox_9", GSUmathApprox(  21.1,  21,  0 ),  false );
		test( "mathApprox_a", GSUmathApprox(  20.8,  21, .1 ),  false );
		test( "mathApprox_b", GSUmathApprox(  21.2,  21, .1 ),  false );
		test( "mathApprox_c", GSUmathApprox(  -21,    -21,  0 ), true );
		test( "mathApprox_d", GSUmathApprox(  -20.9,  -21, .1 ), true );
		test( "mathApprox_e", GSUmathApprox(  -21.1,  -21, .1 ), true );
		test( "mathApprox_f", GSUmathApprox(  -80,   -100, 20 ), true );
		test( "mathApprox_g", GSUmathApprox( -120,   -100, 20 ), true );
		test( "mathApprox_h", GSUmathApprox( -120.1, -100, 20 ), false );
		test( "mathApprox_i", GSUmathApprox(  -79.9, -100, 20 ), false );
		test( "mathApprox_j", GSUmathApprox(  -21.1,  -21,  0 ), false );
		test( "mathApprox_k", GSUmathApprox(  -20.8,  -21, .1 ), false );
		test( "mathApprox_l", GSUmathApprox(  -21.2,  -21, .1 ), false );
	} );
	tests( "GSUmathMod", () => {
		test( "mathMod_0", GSUmathMod(    0,  10 ), 0 );
		test( "mathMod_1", GSUmathMod(    1,  10 ), 1 );
		test( "mathMod_2", GSUmathMod(    9,  10 ), 9 );
		test( "mathMod_3", GSUmathMod(   10,  10 ), 0 );
		test( "mathMod_4", GSUmathMod(  100,  10 ), 0 );
		test( "mathMod_5", GSUmathMod(  999,  10 ), 9 );
		test( "mathMod_6", GSUmathMod( 1000,  10 ), 0 );
		test( "mathMod_7", GSUmathMod( 1001,  10 ), 1 );
		test( "mathMod_8", GSUmathMod(   -1,  10 ), 9 );
		test( "mathMod_9", GSUmathMod(   -2,  10 ), 8 );
		test( "mathMod_a", GSUmathMod(   -9,  10 ), 1 );
		test( "mathMod_b", GSUmathMod(  -10,  10 ), 0 );
		test( "mathMod_c", GSUmathMod(  -11,  10 ), 9 );
		test( "mathMod_d", GSUmathMod( -100,  10 ), 0 );
		test( "mathMod_e", GSUmathMod(   -1,   1 ), 0 );
		test( "mathMod_f", GSUmathMod(    0,   1 ), 0 );
		test( "mathMod_g", GSUmathMod(    1,   1 ), 0 );
		test( "mathMod_h", GSUmathMod(   -1,  -1 ), -0 );
		test( "mathMod_i", GSUmathMod(   -5, -10 ), -5 );
		test( "mathMod_j", GSUmathMod(  -10, -10 ), -0 );
		test( "mathMod_k", GSUmathMod(  -11, -10 ), -1 );
	} );
	tests( "GSUmathFix", () => {
		test( "mathFix_0", GSUmathFix( null ),       0 );
		test( "mathFix_1", GSUmathFix( true ),       1 );
		test( "mathFix_2", GSUmathFix( false ),      0 );
		test( "mathFix_3", GSUmathFix( undefined ),  0 );
		test( "mathFix_4", GSUmathFix( GSUnoop ),    0 );
		test( "mathFix_5", GSUmathFix(   0 ),        0 );
		test( "mathFix_6", GSUmathFix(  21 ),       21 );
		test( "mathFix_7", GSUmathFix(  21.1 ),     21 );
		test( "mathFix_8", GSUmathFix(  21.9 ),     22 );
		test( "mathFix_9", GSUmathFix( -21.9 ),    -22 );
		test( "mathFix_a", GSUmathFix( -21.1 ),    -21 );
		test( "mathFix_b", GSUmathFix( Math.PI, 1 ), 3.1 );
		test( "mathFix_c", GSUmathFix( Math.PI, 3 ), 3.142 );
		test( "mathFix_d", GSUmathFix( Math.PI, 6 ), 3.141593 );
		test( "mathFix_e", GSUmathFix( [] ), [] );
		test( "mathFix_f", GSUmathFix( [], 1 ), [] );
		test( "mathFix_g", GSUmathFix( [ Math.PI ] ), [ 3 ] );
		test( "mathFix_h", GSUmathFix( [ Math.PI ], 0 ), [ 3 ] );
		test( "mathFix_i", GSUmathFix( [ Math.PI ], 1 ), [ 3.1 ] );
		test( "mathFix_j", GSUmathFix( [ Math.PI ], 6 ), [ 3.141593 ] );
		test( "mathFix_k", GSUmathFix( [ Math.PI, .123456 ], 2 ), [ 3.14, .12 ] );
	} );
	tests( "GSUmathRound", () => {
		test( "mathRound_0", GSUmathRound(), NaN );
		test( "mathRound_1", GSUmathRound( 0, 0 ), NaN );
		test( "mathRound_2", GSUmathRound( 1, 0 ), NaN );
		test( "mathRound_3", GSUmathRound( 0 ), 0 );
		test( "mathRound_4", GSUmathRound( Math.PI    ), 3 );
		test( "mathRound_5", GSUmathRound( Math.PI, 1 ), 3 );
		test( "mathRound_6", GSUmathRound( Math.PI, 2 ), 4 );
		test( "mathRound_7", GSUmathRound( Math.PI, 3 ), 3 );
		test( "mathRound_8", GSUmathRound(  1.10, .25 ),  1 );
		test( "mathRound_9", GSUmathRound(  1.25, .25 ),  1.25 );
		test( "mathRound_a", GSUmathRound(  1.26, .25 ),  1.25 );
		test( "mathRound_b", GSUmathRound(  1.24, .25 ),  1.25 );
		test( "mathRound_c", GSUmathRound( -1.10, .25 ), -1 );
		test( "mathRound_d", GSUmathRound( -1.25, .25 ), -1.25 );
		test( "mathRound_e", GSUmathRound( -1.26, .25 ), -1.25 );
		test( "mathRound_f", GSUmathRound( -1.24, .25 ), -1.25 );
	} );
	tests( "GSUmathFloor", () => {
		test( "mathFloor_0", GSUmathFloor(), NaN );
		test( "mathFloor_1", GSUmathFloor( 0, 0 ), NaN );
		test( "mathFloor_2", GSUmathFloor( 1, 0 ), NaN );
		test( "mathFloor_3", GSUmathFloor( 0 ), 0 );
		test( "mathFloor_4", GSUmathFloor( Math.PI    ), 3 );
		test( "mathFloor_5", GSUmathFloor( Math.PI, 1 ), 3 );
		test( "mathFloor_6", GSUmathFloor( Math.PI, 2 ), 2 );
		test( "mathFloor_7", GSUmathFloor( Math.PI, 3 ), 3 );
		test( "mathFloor_8", GSUmathFloor(  1.10, .25 ),  1 );
		test( "mathFloor_9", GSUmathFloor(  1.25, .25 ),  1.25 );
		test( "mathFloor_a", GSUmathFloor(  1.26, .25 ),  1.25 );
		test( "mathFloor_b", GSUmathFloor(  1.24, .25 ),  1 );
		test( "mathFloor_c", GSUmathFloor( -1.10, .25 ), -1.25 );
		test( "mathFloor_d", GSUmathFloor( -1.25, .25 ), -1.25 );
		test( "mathFloor_e", GSUmathFloor( -1.26, .25 ), -1.50 );
		test( "mathFloor_f", GSUmathFloor( -1.24, .25 ), -1.25 );
	} );
	tests( "GSUmathCeil", () => {
		test( "mathCeil_0", GSUmathCeil(), NaN );
		test( "mathCeil_1", GSUmathCeil( 0, 0 ), NaN );
		test( "mathCeil_2", GSUmathCeil( 1, 0 ), NaN );
		test( "mathCeil_3", GSUmathCeil( 0 ), 0 );
		test( "mathCeil_4", GSUmathCeil( Math.PI    ), 4 );
		test( "mathCeil_5", GSUmathCeil( Math.PI, 1 ), 4 );
		test( "mathCeil_6", GSUmathCeil( Math.PI, 2 ), 4 );
		test( "mathCeil_7", GSUmathCeil( Math.PI, 3 ), 6 );
		test( "mathCeil_8", GSUmathCeil(  1.10, .25 ),  1.25 );
		test( "mathCeil_9", GSUmathCeil(  1.25, .25 ),  1.25 );
		test( "mathCeil_a", GSUmathCeil(  1.26, .25 ),  1.50 );
		test( "mathCeil_b", GSUmathCeil(  1.24, .25 ),  1.25 );
		test( "mathCeil_c", GSUmathCeil( -1.10, .25 ), -1 );
		test( "mathCeil_d", GSUmathCeil( -1.25, .25 ), -1.25 );
		test( "mathCeil_e", GSUmathCeil( -1.26, .25 ), -1.25 );
		test( "mathCeil_f", GSUmathCeil( -1.24, .25 ), -1 );
	} );
	tests( "GSUmathLogN", () => {
		test( "mathLogN_0", GSUmathFix( GSUmathLogN( 10, 1000 ), 8 ), 3 );
		test( "mathLogN_1", GSUmathFix( GSUmathLogN( 2, 1024 ), 8 ), 10 );
	} );
	tests( "GSUmathSum", () => {
		test( "mathSum_0", GSUmathSum(),                    0 );
		test( "mathSum_1", GSUmathSum( NaN ),               0 );
		test( "mathSum_2", GSUmathSum( 0 ),                 0 );
		test( "mathSum_3", GSUmathSum( 7 ),                 7 );
		test( "mathSum_4", GSUmathSum( 1, 2, 3, 4, 5, 6 ), 21 );
	} );
	tests( "GSUmathAvg", () => {
		test( "mathAvg_0", GSUmathAvg(),               0 );
		test( "mathAvg_1", GSUmathAvg( NaN ),          0 );
		test( "mathAvg_2", GSUmathAvg( null ),         0 );
		test( "mathAvg_3", GSUmathAvg( undefined ),    0 );
		test( "mathAvg_4", GSUmathAvg( 21 ),          21 );
		test( "mathAvg_5", GSUmathAvg( 21, NaN ),      0 );
		test( "mathAvg_6", GSUmathAvg( 0, "42" ),     21 );
		test( "mathAvg_7", GSUmathAvg( "21", "63" ),  42 );
		test( "mathAvg_8", GSUmathAvg( -10, 15 ),      2.5 );
		test( "mathAvg_9", GSUmathAvg(  10, 20 ),     15 );
		test( "mathAvg_a", GSUmathAvg(  10, 20, 30 ), 20 );
	} );
	tests( "GSUmathStack", () => {
		test( "mathStack_0", GSUmathSum( ...GSUmathStack( [ 5 ],       2 ) ), 2 );
		test( "mathStack_1", GSUmathSum( ...GSUmathStack( [ 2, 5 ],    7 ) ), 9 );
		test( "mathStack_2", GSUmathSum( ...GSUmathStack( [ 5, 7 ],    3 ) ), 8 );
		test( "mathStack_3", GSUmathSum( ...GSUmathStack( [ 1, 2, 3 ], 4 ) ), 7 );
	} );
	tests( "GSUmathSign", () => {
		test( "mathSign_0", GSUmathSign( +0 ),    "+0" );
		test( "mathSign_1", GSUmathSign( -0 ),    "+0" );
		test( "mathSign_2", GSUmathSign(  1 ),    "+1" );
		test( "mathSign_3", GSUmathSign( -1 ),    "-1" );
		test( "mathSign_4", GSUmathSign( .009 ),  "+0.009" );
		test( "mathSign_5", GSUmathSign( -.009 ), "-0.009" );
	} );
	tests( "GSUmathInRange", () => {
		test( "mathInRange_0", GSUmathInRange(   0,   0,   1 ), true );
		test( "mathInRange_1", GSUmathInRange(  20,  20,  22 ), true );
		test( "mathInRange_2", GSUmathInRange(  21,  20,  22 ), true );
		test( "mathInRange_3", GSUmathInRange(  22,  20,  22 ), true );
		test( "mathInRange_4", GSUmathInRange(  20,  22,  20 ), true );
		test( "mathInRange_5", GSUmathInRange(  21,  22,  20 ), true );
		test( "mathInRange_6", GSUmathInRange(  22,  22,  20 ), true );
		test( "mathInRange_7", GSUmathInRange( -20, -20, -22 ), true );
		test( "mathInRange_8", GSUmathInRange( -21, -20, -22 ), true );
		test( "mathInRange_9", GSUmathInRange( -22, -20, -22 ), true );
		test( "mathInRange_a", GSUmathInRange( -20, -22, -20 ), true );
		test( "mathInRange_b", GSUmathInRange( -21, -22, -20 ), true );
		test( "mathInRange_c", GSUmathInRange( -22, -22, -20 ), true );
		test( "mathInRange_d", GSUmathInRange(  .1,   0,   0 ), false );
		test( "mathInRange_e", GSUmathInRange( -.1,   0,   0 ), false );
		test( "mathInRange_f", GSUmathInRange(   2,   0,   1 ), false );
		test( "mathInRange_g", GSUmathInRange(  -1,   0,   1 ), false );
		test( "mathInRange_h", GSUmathInRange( -.001, 0,   1 ), false );
		test( "mathInRange_i", GSUmathInRange( 1.001, 0,   1 ), false );
		test( "mathInRange_j", GSUmathInRange( undefined, -Infinity, Infinity ), false );
		test( "mathInRange_k", GSUmathInRange( NaN,       -Infinity, Infinity ), false );
		test( "mathInRange_l", GSUmathInRange( null,      -Infinity, Infinity ), false );
		test( "mathInRange_m", GSUmathInRange( "-0.5",    -Infinity, Infinity ), true );
		test( "mathInRange_n", GSUmathInRange( "0",       -Infinity, Infinity ), true );
		test( "mathInRange_o", GSUmathInRange( "21",      -Infinity, Infinity ), true );
		test( "mathInRange_p", GSUmathInRange( "a",       -Infinity, Infinity ), false );
		test( "mathInRange_q", GSUmathInRange( "",        -Infinity, Infinity ), false );
		test( "mathInRange_r", GSUmathInRange( false,     -Infinity, Infinity ), false );
		test( "mathInRange_s", GSUmathInRange( true,      -Infinity, Infinity ), false );
	} );
	tests( "GSUmathClamp", () => {
		test( "mathClamp_0", GSUmathClamp(  19,  20,  30 ),  20 );
		test( "mathClamp_1", GSUmathClamp(  20,  20,  30 ),  20 );
		test( "mathClamp_2", GSUmathClamp(  21,  20,  30 ),  21 );
		test( "mathClamp_3", GSUmathClamp(  29,  20,  30 ),  29 );
		test( "mathClamp_4", GSUmathClamp(  30,  20,  30 ),  30 );
		test( "mathClamp_5", GSUmathClamp(  31,  20,  30 ),  30 );
		test( "mathClamp_6", GSUmathClamp( -19, -20, -30 ), -20 );
		test( "mathClamp_7", GSUmathClamp( -20, -20, -30 ), -20 );
		test( "mathClamp_8", GSUmathClamp( -21, -20, -30 ), -21 );
		test( "mathClamp_9", GSUmathClamp( -29, -20, -30 ), -29 );
		test( "mathClamp_a", GSUmathClamp( -30, -20, -30 ), -30 );
		test( "mathClamp_b", GSUmathClamp( -31, -20, -30 ), -30 );
	} );
	tests( "GSUmathEaseInCirc", () => {
		test( "mathEaseInCirc_0", GSUmathEaseInCirc( 0 ),      0 );
		test( "mathEaseInCirc_1", GSUmathEaseInCirc( 1 ),      1 );
		test( "mathEaseInCirc_2", GSUmathEaseInCirc( .25 ),    .031754163448145745 );
		test( "mathEaseInCirc_3", GSUmathEaseInCirc( .5 ),     .1339745962155614 );
		test( "mathEaseInCirc_4", GSUmathEaseInCirc( .75 ),    .3385621722338523 );
		test( "mathEaseInCirc_5", GSUmathEaseInCirc( .25, 2 ), .031754163448145745 );
		test( "mathEaseInCirc_6", GSUmathEaseInCirc( .25, 3 ), .007843258350778481 );
		test( "mathEaseInCirc_7", GSUmathEaseInCirc( .25, 4 ), .001955036083043038 );
	} );
	tests( "GSUmathEaseOutCirc", () => {
		test( "mathEaseOutCirc_0", GSUmathEaseOutCirc( 0 ),      0 );
		test( "mathEaseOutCirc_1", GSUmathEaseOutCirc( 1 ),      1 );
		test( "mathEaseOutCirc_2", GSUmathEaseOutCirc( .25 ),    .6614378277661477 );
		test( "mathEaseOutCirc_3", GSUmathEaseOutCirc( .5 ),     .8660254037844386 );
		test( "mathEaseOutCirc_4", GSUmathEaseOutCirc( .75 ),    .9682458365518543 );
		test( "mathEaseOutCirc_5", GSUmathEaseOutCirc( .25, 2 ), .6614378277661477 );
		test( "mathEaseOutCirc_6", GSUmathEaseOutCirc( .25, 3 ), 1.192424001771182 ); // ???
		test( "mathEaseOutCirc_7", GSUmathEaseOutCirc( .25, 4 ), .8267972847076845 );
	} );
	tests( "GSUmathLineFindY", () => {
		test( "mathLineFindY_0", GSUmathLineFindY( { x:  10, y:  1 }, { x: 20, y: 2 }, 15 ), 1.5 );
		test( "mathLineFindY_1", GSUmathLineFindY( { x:  20, y:  2 }, { x: 10, y: 1 }, 15 ), 1.5 );
		test( "mathLineFindY_2", GSUmathLineFindY( { x:  10, y:  1 }, { x: 20, y: 2 }, 10 ), 1   );
		test( "mathLineFindY_3", GSUmathLineFindY( { x:  10, y:  1 }, { x: 20, y: 2 }, 20 ), 2   );
		test( "mathLineFindY_4", GSUmathLineFindY( { x:  10, y:  1 }, { x: 20, y: 2 },  5 ),  .5 );
		test( "mathLineFindY_5", GSUmathLineFindY( { x:  10, y:  1 }, { x: 20, y: 2 }, 25 ), 2.5 );
		test( "mathLineFindY_6", GSUmathLineFindY( { x: -10, y:  1 }, { x: 10, y: 2 },  0 ), 1.5 );
		test( "mathLineFindY_7", GSUmathLineFindY( { x: -10, y: -1 }, { x: 10, y: 1 },  0 ), 0   );
	} );
	tests( "GSUmathSampleDotLine", () => {
		test( "mathSampleDotLine_0", GSUmathSampleDotLine( [ { x:  0, y:  0 }, { x: 1, y: 1 } ], 2 ), [ [  0,  0 ], [     1,     1 ] ] );
		test( "mathSampleDotLine_1", GSUmathSampleDotLine( [ { x: -1, y: -1 }, { x: 1, y: 1 } ], 2 ), [ [ -1, -1 ], [     1,     1 ] ] );
		test( "mathSampleDotLine_2", GSUmathSampleDotLine( [ { x:  0, y:  0 }, { x: 1, y: 1 } ], 3 ), [ [  0,  0 ], [    .5,    .5 ], [     1,     1 ] ] );
		test( "mathSampleDotLine_3", GSUmathSampleDotLine( [ { x:  0, y:  0 }, { x: 1, y: 1 } ], 4 ), [ [  0,  0 ], [ 1 / 3, 1 / 3 ], [ 2 / 3, 2 / 3 ], [ 1, 1 ] ] );

		test( "mathSampleDotLine_4", GSUmathSampleDotLine( [ { x:  0, y: 0 }, { x: .5, y: 3 }, { x: 1, y: 0 } ], 2 ), [ [  0,  0 ], [     1, 0 ] ] );
		test( "mathSampleDotLine_5", GSUmathSampleDotLine( [ { x:  0, y: 0 }, { x: .5, y: 3 }, { x: 1, y: 0 } ], 3 ), [ [  0,  0 ], [    .5, 3 ], [     1, 0 ] ] );
		test( "mathSampleDotLine_6", GSUmathSampleDotLine( [ { x:  0, y: 0 }, { x: .5, y: 3 }, { x: 1, y: 0 } ], 4 ), [ [  0,  0 ], [ 1 / 3, 2 ], [ 2 / 3, 2 ], [ 1, 0 ] ] );
		test( "mathSampleDotLine_7", GSUmathSampleDotLine( [ { x: -3, y: 0 }, { x: 0,  y: 3 }, { x: 3, y: 0 } ], 4 ), [ [ -3,  0 ], [    -1, 2 ], [     1, 2 ], [ 3, 0 ] ] );

		test( "mathSampleDotLine_8", GSUmathSampleDotLine( [ { x:  0, y: 0 }, { x: 1, y: 1 } ], 2,  0       ), [ [  0,   0  ], [  1,   1  ] ] );
		test( "mathSampleDotLine_9", GSUmathSampleDotLine( [ { x:  0, y: 0 }, { x: 1, y: 1 } ], 2,  0,   1  ), [ [  0,   0  ], [  1,   1  ] ] );
		test( "mathSampleDotLine_a", GSUmathSampleDotLine( [ { x:  0, y: 0 }, { x: 1, y: 1 } ], 2, .5,   1  ), [ [ .5,  .5  ], [  1,   1  ] ] );
		test( "mathSampleDotLine_b", GSUmathSampleDotLine( [ { x:  0, y: 0 }, { x: 1, y: 1 } ], 2,  0,  .5  ), [ [  0,   0  ], [ .5,  .5  ] ] );
		test( "mathSampleDotLine_c", GSUmathSampleDotLine( [ { x:  0, y: 0 }, { x: 1, y: 1 } ], 2, .25, .75 ), [ [ .25, .25 ], [ .75, .75 ] ] );
	} );
</script>

<!-- ....................................................................... -->
<!-- ..... gs-utils-func ................................................... -->
<!-- ....................................................................... -->
<script>
	tests( "GSUnoop", () => {
		test( "noop_0",      GSUnoop(),            undefined );
		test( "noop_1",      GSUnoop( 1 ),         undefined );
		test( "noopFalse_0", GSUnoopFalse(),       false     );
		test( "noopFalse_1", GSUnoopFalse( true ), false     );
	} );
	tests( "GSUsetIntervalLimit", () => {
		test( "setIntervalLimit_0", _GSUsetInterval_minMs, 0 );
		test( "setIntervalLimit_1", GSUsetIntervalLimit( 1 ), 1_000 );
		testThrow( "setIntervalLimit_2", "number-positive-0", () => GSUsetIntervalLimit( NaN ) );
		testThrow( "setIntervalLimit_3", "number-positive-0", () => GSUsetIntervalLimit( -1 ) );
		testThrow( "setIntervalLimit_4", "number-positive-0", () => GSUsetIntervalLimit( false ) );
		testThrow( "setIntervalLimit_5", "number-positive-0", () => GSUsetIntervalLimit( true ) );
		test( "setIntervalLimit_6", _GSUsetInterval_minMs, 1_000 );
	} );
	tests( "GSUsetTimeout", async () => {
		let timeoutId = null;
		let timeoutInc = 0;
		const fn = () => ++timeoutInc;

		timeoutId = GSUsetTimeout( fn, .05 );
		test( "setTimeout_0", GSUisInt( timeoutId ) && timeoutId > 0, true );
		test( "setTimeout_1", timeoutInc, 0 ); await GSUwait( .045 );
		test( "setTimeout_2", timeoutInc, 0 ); await GSUwait( .005 + .02 );
		test( "setTimeout_3", timeoutInc, 1 );
		timeoutId = GSUsetTimeout( fn, 0 );
		test( "setTimeout_4", timeoutId, null );
		test( "setTimeout_5", timeoutInc, 2 );
		testThrow( "setTimeout_6", "number-positive-0", () => GSUsetTimeout( fn, -1 ) );
		testThrow( "setTimeout_7", "number-positive-0", () => GSUsetTimeout( fn, NaN ) );
		test( "setTimeout_8", timeoutInc, 2 );
		timeoutId = GSUsetTimeout( fn, .01 );
		GSUclearTimeout( timeoutId ); await GSUwait( .02 );
		test( "setTimeout_9", timeoutInc, 2 );
	} );
</script>

<!-- ....................................................................... -->
<!-- ..... gs-utils-json ................................................... -->
<!-- ....................................................................... -->
<script>
	tests( "GSUgetNewId", () => {
		test( "getNewId_0", GSUgetNewId( {} ), "0" );
		test( "getNewId_1", GSUgetNewId( { 0: true  } ), "1" );
		test( "getNewId_2", GSUgetNewId( { 0: false } ), "1" );
		test( "getNewId_3", GSUgetNewId( { 0: false, 1: null } ), "2" );
		test( "getNewId_4", GSUgetNewId( { 2: false, 1: null } ), "0" );
		test( "getNewId_5", GSUgetNewId( { 0: false, 2: null } ), "1" );
		testThrow( "getNewId_6", "object", () => GSUgetNewId() );
		testThrow( "getNewId_7", "object", () => GSUgetNewId( [] ) );
	} );
	tests( "GSUgetNewIds", () => {
		test( "getNewIds_0", GSUgetNewIds( {}, 1 ), [ "0" ] );
		test( "getNewIds_1", GSUgetNewIds( {}, 2 ), [ "0", "1" ] );
		test( "getNewIds_2", GSUgetNewIds( {}, 3 ), [ "0", "1", "2" ] );
		test( "getNewIds_3", GSUgetNewIds( { 0: 0, 1: 1, 3: 3, 4: 4 }, 2 ), [ "2", "5" ] );
		testThrow( "getNewIds_4", "object", () => GSUgetNewIds() );
		testThrow( "getNewIds_5", "object", () => GSUgetNewIds( [] ) );
		testThrow( "getNewIds_6", "integer-positive", () => GSUgetNewIds( {} ) );
		testThrow( "getNewIds_7", "integer-positive", () => GSUgetNewIds( {}, -1   ) );
		testThrow( "getNewIds_8", "integer-positive", () => GSUgetNewIds( {},  0   ) );
		testThrow( "getNewIds_9", "integer-positive", () => GSUgetNewIds( {},  1.5 ) );
	} );
	tests( "GSUgetLastOrder", () => {
		test( "getLastOrder_0", GSUgetLastOrder( {}                                   ),  0 );
		test( "getLastOrder_1", GSUgetLastOrder( []                                   ),  0 );
		test( "getLastOrder_2", GSUgetLastOrder( { 0: { order: 0 }                  } ),  1 );
		test( "getLastOrder_3", GSUgetLastOrder( { 0: { order: 5 }                  } ),  6 );
		test( "getLastOrder_4", GSUgetLastOrder( { 1: { order: 9 }, 2: { order: 3 } } ), 10 );
		test( "getLastOrder_5", GSUgetLastOrder( { 1: {},           2: {}           } ),  1 );
		test( "getLastOrder_6", GSUgetLastOrder( { 1: { order: 9 }, 2: {}           } ), 10 );
		testThrow( "getLastOrder_7", "objay", () => GSUgetLastOrder() );
		testThrow( "getLastOrder_8", "objay", () => GSUgetLastOrder( null ) );
	} );
	tests( "GSUdeepCopy", () => {
		test( "deepCopy_0", GSUdeepCopy(  0 ),  0 );
		test( "deepCopy_1", GSUdeepCopy( 21 ), 21 );
		test( "deepCopy_2", GSUdeepCopy( NaN ), NaN );
		test( "deepCopy_3", GSUdeepCopy( null ), null );
		test( "deepCopy_4", GSUdeepCopy( true ), true );
		test( "deepCopy_5", GSUdeepCopy( false ), false );
		test( "deepCopy_6", GSUdeepCopy( undefined ), undefined );

		const obj1 = {};
		const obj2 = GSUdeepCopy( obj1 );
		obj2.foo = 21;
		test( "deepCopy_7", obj1.foo, undefined );
		test( "deepCopy_8", obj1 !== obj2, true );

		const obj3 = { a: 5, b: { c: 10 }, d: undefined };
		const obj4 = GSUdeepCopy( obj3 );
		obj3.b.c = 20;
		test( "deepCopy_9", obj4.b.c, 10 );
		test( "deepCopy_a", obj4.d, undefined );
		test( "deepCopy_b", "d" in obj4, true );
		test( "deepCopy_c", GSUdeepCopy( [] ), [] );
		test( "deepCopy_d", GSUdeepCopy( [ 21 ] ), [ 21 ] );

		const obj5 = { a: 21, b: [ 21, 33, { c: 42 } ] };
		const obj6 = GSUdeepCopy( obj5 );
		test( "deepCopy_e", obj5, obj6 );
		obj5.b[ 2 ].c = 43;
		test( "deepCopy_f", obj5.b[ 2 ].c, 43 );
		test( "deepCopy_g", obj6.b[ 2 ].c, 42 );
	} );
	tests( "GSUdeepAssign", () => {
		test( "deepAssign_0", GSUdeepAssign(), undefined );
		test( "deepAssign_1", GSUdeepAssign( 0 ), 0 );
		test( "deepAssign_2", GSUdeepAssign( null ), null );
		test( "deepAssign_3", GSUdeepAssign( undefined ), undefined );

		const obj1 = {};
		testStrict( "deepAssign_4", GSUdeepAssign( obj1, false ), obj1 );
		testStrict( "deepAssign_5", GSUdeepAssign( obj1, { foo: 21 } ), obj1 );
		test( "deepAssign_6", obj1.foo, 21 );
		GSUdeepAssign( obj1, { foo: undefined, bar: undefined } );
		test( "deepAssign_7", obj1.foo, undefined );
		test( "deepAssign_8", obj1.bar, undefined );
		test( "deepAssign_9", "foo" in obj1, true );
		test( "deepAssign_a", "bar" in obj1, true );

		const obj2 = { x: { y: { z: "z" } } };
		GSUdeepAssign( obj1, obj2 );
		test( "deepAssign_b", obj1.x.y.z, "z" );
		obj2.x.y.z = "o";
		test( "deepAssign_c", obj1.x.y.z, "z" );
	} );
	tests( "GSUdeepFreeze", () => {
		test( "deepFreeze_0", GSUdeepFreeze( NaN ), NaN );
		test( "deepFreeze_1", GSUdeepFreeze( null ), null );
		test( "deepFreeze_2", GSUdeepFreeze( true ), true );
		test( "deepFreeze_3", GSUdeepFreeze( false ), false );
		test( "deepFreeze_4", GSUdeepFreeze( undefined ), undefined );

		const obj1 = {};
		const arr1 = [];
		testStrict( "deepFreeze_5", GSUdeepFreeze( obj1 ), obj1 );
		testStrict( "deepFreeze_6", GSUdeepFreeze( arr1 ), arr1 );
		obj1.foo = 21;
		try { arr1.push( "a" ); } catch ( e ) {}
		testStrict( "deepFreeze_7", "foo" in obj1, false );
		testStrict( "deepFreeze_8", arr1.length, 0 );

		const obj2 = { a: 21, b: { c: 42 } };
		testStrict( "deepFreeze_9", GSUdeepFreeze( obj2 ), obj2 );
		obj2.a = 22;
		test( "deepFreeze_a", obj2.a, 21 );
		obj2.b.c = 43;
		test( "deepFreeze_b", obj2.b.c, 42 );

		const obj3 = { a: { b: 21 }, c: { d: 42 } };
		testStrict( "deepFreeze_c", GSUdeepFreeze( obj3 ), obj3 );
		obj3.zzz = 666;
		obj3.a.b = 666;
		obj3.c.d = 666;
		test( "deepFreeze_d", "zzz" in obj3, false );
		test( "deepFreeze_e", obj3.a.b, 21 );
		test( "deepFreeze_f", obj3.c.d, 42 );
		delete obj3.c;
		test( "deepFreeze_g", obj3.c.d, 42 );
	} );
	tests( "GSUdiffObjects", () => {
		test( "diffObjects_0", GSUdiffObjects( 0, 0 ), undefined );
		test( "diffObjects_1", GSUdiffObjects( 1, 1 ), undefined );
		test( "diffObjects_2", GSUdiffObjects( {}, {} ), undefined );
		test( "diffObjects_3", GSUdiffObjects( [], [] ), undefined );
		test( "diffObjects_4", GSUdiffObjects( true,  true  ), undefined );
		test( "diffObjects_5", GSUdiffObjects( false, false ), undefined );
		test( "diffObjects_6", GSUdiffObjects( [ 1    ], [ 1    ] ), undefined );
		test( "diffObjects_7", GSUdiffObjects( [ 1, 2 ], [ 1, 2 ] ), undefined );
		test( "diffObjects_8", GSUdiffObjects( { a: 1 },       { a: 1 }       ), undefined );
		test( "diffObjects_9", GSUdiffObjects( { a: 1, b: 2 }, { a: 1, b: 2 } ), undefined );
		test( "diffObjects_a", GSUdiffObjects( { a: 1, b: { c: 2 } }, { a: 1, b: { c: 2 } } ), undefined );
		test( "diffObjects_b", GSUdiffObjects( { a: 1       }, {} ), { a: undefined               } );
		test( "diffObjects_c", GSUdiffObjects( { a: 1, b: 2 }, {} ), { a: undefined, b: undefined } );
		test( "diffObjects_d", GSUdiffObjects( {}, { a: 1 }       ), { a: 1       } );
		test( "diffObjects_e", GSUdiffObjects( {}, { a: 1, b: 2 } ), { a: 1, b: 2 } );
		test( "diffObjects_f", GSUdiffObjects( { a: 1 }, { a: 1, b: 2 } ), { b: 2 } );
		test( "diffObjects_g", GSUdiffObjects( { a: 1, b: 2 }, { a: 1 } ), { b: undefined } );
		test( "diffObjects_h", GSUdiffObjects( { a: 1, b: { c: 2       } }, { a: 2, b: { c: 2       } } ), { a: 2 } );
		test( "diffObjects_i", GSUdiffObjects( { a: 1, b: { c: 2       } }, { a: 1, b: { c: 3       } } ), {       b: { c: 3       } } );
		test( "diffObjects_j", GSUdiffObjects( { a: 1, b: { c: 2, d: 2 } }, { a: 1, b: { c: 3, d: 3 } } ), {       b: { c: 3, d: 3 } } );
		test( "diffObjects_k", GSUdiffObjects( { a: 1, b: { c: 2, d: 2 } }, { a: 4, b: { c: 2, d: 3 } } ), { a: 4, b: {       d: 3 } } );
		test( "diffObjects_l", GSUdiffObjects( { a: 1, b: { c: 2       } }, { a: 1, B: { c: 2       } } ), { b: undefined, B: { c: 2 } } );
		test( "diffObjects_m", GSUdiffObjects( { a: [ 5, 7 ] }, { a: [ 5, 8 ] } ), { a: [ 5, 8 ] } );
		test( "diffObjects_n", GSUdiffObjects( { a: [ 5, 7 ] }, { a: [ 5, 7 ] } ), undefined );
	} );
	tests( "GSUdiffAssign", () => {
		test( "diffAssign_0", GSUdiffAssign( 0 ), 0 );
		test( "diffAssign_1", GSUdiffAssign( 1 ), 1 );
		test( "diffAssign_2", GSUdiffAssign( NaN ), NaN );
		test( "diffAssign_3", GSUdiffAssign( null ), null );
		test( "diffAssign_4", GSUdiffAssign( true ), true );
		test( "diffAssign_5", GSUdiffAssign( false ), false );
		test( "diffAssign_6", GSUdiffAssign( undefined ), undefined );
		test( "diffAssign_7", GSUdiffAssign(), undefined );

		const obj1 = {};
		testStrict( "diffAssign_8", GSUdiffAssign( obj1 ), obj1 );
		testStrict( "diffAssign_9", GSUdiffAssign( obj1, { a: 21 } ), obj1 );
		test( "diffAssign_a", obj1.a, 21 );
		GSUdiffAssign( obj1, { a: 0 } );         test( "diffAssign_b", obj1.a, 0 );
		GSUdiffAssign( obj1, { a: null } );      test( "diffAssign_c", obj1.a, null );
		GSUdiffAssign( obj1, { a: undefined } ); test( "diffAssign_d", "a" in obj1, false );

		const obj2 = { a: 1 };
		GSUdiffAssign( obj2, { b: 2 } );                       test( "diffAssign_e", obj2, { a: 1, b: 2 } );
		GSUdiffAssign( obj2, { a: undefined, b: undefined } ); test( "diffAssign_f", obj2, {} );
		GSUdiffAssign( obj2, { aa: { b: undefined, c: 1 } } ); test( "diffAssign_g", obj2, { aa: { c: 1 } } );
		GSUdiffAssign( obj2, { aa: { c: { d: [ 1, 2 ] } } } ); test( "diffAssign_h", obj2, { aa: { c: { d: [ 1, 2 ] } } } );
		GSUdiffAssign( obj2, { aa: { c: { d: [ 3 ] } } } );    test( "diffAssign_i", obj2, { aa: { c: { d: [ 3 ] } } } );
		GSUdiffAssign( obj2, { aa: undefined } );              test( "diffAssign_j", obj2, {} );
		
		const obj3 = { a: [ 4, 5, 6, 7, 8, 9 ] };
		const obj4 = { a: [ 1, 2, 3 ] };
		GSUdiffAssign( obj3, obj4 );
		obj4.a.push( 4 );
		test( "diffAssign_k", obj3.a, [ 1, 2, 3 ] );
		test( "diffAssign_l", obj3.a.length, 3 );
	} );
	tests( "GSUcomposeUndo", () => {
		const src = {
			a: { aa: 1, ab: 2, ac: 3 },
			b: { ba: 1, bb: 2, bc: 3 },
			c: { ca: 1, cb: 2, cc: 3 },
		};
		test( "composeUndo_0", GSUcomposeUndo( src, {} ), {} );
		test( "composeUndo_1", GSUcomposeUndo( {            }, { a: 1                     } ), { a: undefined             } );
		test( "composeUndo_2", GSUcomposeUndo( { a: 1       }, { a: undefined             } ), { a: 1                     } );
		test( "composeUndo_3", GSUcomposeUndo( { a: 1       }, { a: 2, b: 3               } ), { a: 1, b: undefined       } );
		test( "composeUndo_4", GSUcomposeUndo( { a: 1, c: 4 }, { a: 2, b: 3, c: undefined } ), { a: 1, b: undefined, c: 4 } );

		test( "composeUndo_5", GSUcomposeUndo( src, { a: { aa: undefined } } ), { a: { aa: 1               } } );
		test( "composeUndo_6", GSUcomposeUndo( src, { a: { ad: 4         } } ), { a: { ad: undefined       } } );
		test( "composeUndo_7", GSUcomposeUndo( src, { a: undefined         } ), { a: { aa: 1, ab: 2, ac: 3 } } );

		const src2 = {
			a: { aa: 1, ab: 2, ac: 3 },
			b: { aa: [ 0, 1, 2, 3, 1000 ] },
		};
		test( "composeUndo_8", GSUcomposeUndo( src2, {} ), {} );

		const undo = GSUcomposeUndo( src2, { b: { aa: [ 21 ] } } );
		test( "composeUndo_9", undo, { b: { aa: [ 0, 1, 2, 3, 1000 ] } } );
		test( "composeUndo_a", GSUisArr( undo.b.aa ), true );

		undo.b.aa[ 4 ] = 5555;
		test( "composeUndo_b", undo.b.aa[ 4 ], 1000 );
	} );
</script>

<!-- ....................................................................... -->
<!-- ..... gs-utils-dom .................................................... -->
<!-- ....................................................................... -->
<script>
	tests( "GSUdomBCR", () => {
		const elSquare1 = document.querySelector( "#square1" );
		const square1BCR = elSquare1.getBoundingClientRect();
		const squareBCR2 = GSUdeepCopy( square1BCR );

		squareBCR2.w = squareBCR2.width;
		squareBCR2.h = squareBCR2.height;
		test( "domBCR_0", GSUdomBCR( null ),      null );
		test( "domBCR_1", GSUdomBCR( undefined ), null );
		test( "domBCR_2", GSUdomBCR( elSquare1 ), squareBCR2 );
	} );
	tests( "GSUdomBCRxy", () => {
		const elSquare1 = document.querySelector( "#square1" );
		const square1BCR = elSquare1.getBoundingClientRect();

		test( "domBCRxy_0", GSUdomBCRxy( null ),      [ 0, 0 ] );
		test( "domBCRxy_1", GSUdomBCRxy( elSquare1 ), [ square1BCR.x, square1BCR.y ] );
	} );
	tests( "GSUdomBCRwh", () => {
		const elSquare1 = document.querySelector( "#square1" );
		const square1BCR = elSquare1.getBoundingClientRect();

		test( "domBCRwh_0", GSUdomBCRwh( null ),      [ 0, 0 ] );
		test( "domBCRwh_1", GSUdomBCRwh( elSquare1 ), [ square1BCR.width, square1BCR.height ] );
	} );
	tests( "GSUdomBCRxywh", () => {
		const elSquare1 = document.querySelector( "#square1" );
		const square1BCR = elSquare1.getBoundingClientRect();

		test( "domBCRxywh_0", GSUdomBCRxywh( null ),      [ 0, 0, 0, 0 ] );
		test( "domBCRxywh_1", GSUdomBCRxywh( elSquare1 ), [ square1BCR.x, square1BCR.y, square1BCR.width, square1BCR.height ] );
	} );
	tests( "GSUdomQS", () => {
		const elSquare1 = document.querySelector( "#square1" );
		const elSquare2 = document.querySelector( "#square2" );
		const elSquare3 = document.querySelector( "#square3" );

		testStrict( "domQS_0", GSUdomQS( "#square1" ), elSquare1 );
		testStrict( "domQS_1", GSUdomQS( elSquare2, "#square3" ), elSquare3 );
		testStrict( "domQS_2", GSUdomQS( elSquare2, "div" ), elSquare3 );
		testStrict( "domQS_3", GSUdomQS( elSquare2, "*" ), elSquare3 );
		testStrict( "domQS_4", GSUdomQS( ".u404" ), document.querySelector( ".u404" ) );
	} );
	tests( "GSUdomQSA", () => {
		const elCircles = document.querySelectorAll( ".circle1" );
		const elSquare2 = document.querySelector( "#square2" );
		const ci = GSUdomQSA( ".circle1" );
		const ci2 = GSUdomQSA( elSquare2, ".circle1" );

		test( "domQSA_0", GSUdomQSA( ".u404" ), document.querySelectorAll( ".u404" ) );
		testStrict( "domQSA_1", ci[ 0 ], elCircles[ 0 ] );
		testStrict( "domQSA_2", ci[ 1 ], elCircles[ 1 ] );
		testStrict( "domQSA_3", ci[ 2 ], elCircles[ 2 ] );
		testStrict( "domQSA_5", ci.length, elCircles.length );
		testStrict( "domQSA_6", ci2.length, elSquare2.querySelectorAll( ".circle1" ).length );
		testStrict( "domQSA_7", ci2[ 0 ], elSquare2.querySelectorAll( ".circle1" )[ 0 ] );
		testStrict( "domQSA_8", ci2[ 1 ], elSquare2.querySelectorAll( ".circle1" )[ 1 ] );
	} );
	tests( "GSUdomHasAttr", () => {
		const foo = GSUdomQS( "[data-foo]" );

		GSUdomHasAttr( null, "data-foo" );
		test( "domHasAttr_0", foo.hasAttribute( "data-foo" ), true );
		test( "domHasAttr_1", GSUdomHasAttr( foo, "data-foo" ), true );
		test( "domHasAttr_2", GSUdomHasAttr( foo, "undefined" ), false );
	} );
	tests( "GSUdomGetAttr", () => {
		const elCirc2 = GSUdomQS( ".circle2" );

		test( "domGetAttr_0", GSUdomGetAttr(),                    null );
		test( "domGetAttr_1", GSUdomGetAttr( null ),              null );
		test( "domGetAttr_2", GSUdomGetAttr( undefined ),         null );
		test( "domGetAttr_3", GSUdomGetAttr( null, "qwe" ),       null );
		test( "domGetAttr_4", GSUdomGetAttr( elCirc2 ),           null );
		test( "domGetAttr_5", GSUdomGetAttr( elCirc2, "qwe" ),    null );
		test( "domGetAttr_6", GSUdomGetAttr( elCirc2, "data-a" ), "21" );
		test( "domGetAttr_7", GSUdomGetAttr( elCirc2, "data-b" ), "abc" );
		test( "domGetAttr_8", GSUdomGetAttr( elCirc2, "data-c" ), "" );
	} );
	tests( "GSUdomGetAttrNum", () => {
		const elCirc2 = GSUdomQS( ".circle2" );

		test( "domGetAttrNum_0", GSUdomGetAttrNum( elCirc2, "data-a" ), 21 );
		test( "domGetAttrNum_1", GSUdomGetAttrNum( elCirc2, "data-d" ), -3.14 );
		test( "domGetAttrNum_2", GSUdomGetAttrNum(),                     0 );
		test( "domGetAttrNum_3", GSUdomGetAttrNum( elCirc2 ),            0 );
		test( "domGetAttrNum_4", GSUdomGetAttrNum( elCirc2, "data-b" ),  0 );
		test( "domGetAttrNum_5", GSUdomGetAttrNum( elCirc2, "data-c" ),  0 );
	} );
	tests( "GSUdomRmAttr", () => {
		const foo = GSUdomQS( "[data-foo]" );

		test( "domRmAttr_0", foo.hasAttribute( "data-foo" ), true );
		GSUdomRmAttr( null, "data-foo" );
		GSUdomRmAttr( foo, "data-foo" );
		test( "domRmAttr_1", foo.hasAttribute( "data-foo" ), false );
		test( "domRmAttr_2", foo.matches( "[data-bar][data-bar2]" ), true );
		GSUdomRmAttr( foo, "data-bar", "data-bar2" );
		test( "domRmAttr_3", foo.hasAttribute( "data-bar"  ), false );
		test( "domRmAttr_4", foo.hasAttribute( "data-bar2" ), false );
	} );
	tests( "GSUdomSetAttr", () => {
		const elCirc2 = GSUdomQS( ".circle2" );

		GSUdomSetAttr();
		GSUdomSetAttr( null );
		GSUdomSetAttr( undefined );
		GSUdomSetAttr( null, "qwe" );
		GSUdomSetAttr( null, { a: 21 } );
		GSUdomSetAttr( elCirc2, "data-z", 555 );
		test( "domSetAttr_0", GSUdomGetAttrNum( elCirc2, "data-z" ), 555 );
		GSUdomSetAttr( elCirc2, "data-y" );
		test( "domSetAttr_1", GSUdomGetAttr( elCirc2, "data-y" ), "" );
		GSUdomSetAttr( elCirc2, "data-y", false );
		test( "domSetAttr_2", GSUdomGetAttr( elCirc2, "data-y" ), null );
		test( "domSetAttr_3", GSUdomHasAttr( elCirc2, "data-y" ), false );
		GSUdomSetAttr( elCirc2, "data-z", false );
		test( "domSetAttr_4", GSUdomHasAttr( elCirc2, "data-z" ), false );
		GSUdomSetAttr( elCirc2, {
			"data-x": 222,
			"data-y": 333,
			"data-z": 444,
		} );
		test( "domSetAttr_5", GSUdomGetAttrNum( elCirc2, "data-x" ), 222 );
		test( "domSetAttr_6", GSUdomGetAttrNum( elCirc2, "data-y" ), 333 );
		test( "domSetAttr_7", GSUdomGetAttrNum( elCirc2, "data-z" ), 444 );
		GSUdomSetAttr( elCirc2, "data-z", 0 );
		test( "domSetAttr_8", GSUdomGetAttr( elCirc2, "data-z" ), "0" );
		test( "domSetAttr_9", GSUdomGetAttrNum( elCirc2, "data-z" ), 0 );
		GSUdomSetAttr( elCirc2, "data-z", 1 );
		test( "domSetAttr_a", GSUdomGetAttr( elCirc2, "data-z" ), "1" );
		test( "domSetAttr_b", GSUdomGetAttrNum( elCirc2, "data-z" ), 1 );
		GSUdomSetAttr( elCirc2, "data-w", undefined );
		test( "domSetAttr_c", GSUdomHasAttr( elCirc2, "data-w" ), false );
		GSUdomSetAttr( elCirc2, "data-z", undefined );
		test( "domSetAttr_d", GSUdomHasAttr( elCirc2, "data-z" ), false );
	} );
	tests( "GSUdomTogAttr", () => {
		const elCirc2 = GSUdomQS( ".circle2" );

		GSUdomTogAttr();
		GSUdomTogAttr( null );
		GSUdomTogAttr( undefined );
		GSUdomTogAttr( null, "qwe" );
		GSUdomTogAttr( elCirc2, "data-tog" ); test( "domTogAttr_0", GSUdomGetAttr( elCirc2, "data-tog" ), "" );
		GSUdomTogAttr( elCirc2, "data-tog" ); test( "domTogAttr_0", GSUdomGetAttr( elCirc2, "data-tog" ), null );
		GSUdomTogAttr( elCirc2, "data-tog" ); test( "domTogAttr_0", GSUdomGetAttr( elCirc2, "data-tog" ), "" );
		GSUdomTogAttr( elCirc2, "data-tog" ); test( "domTogAttr_0", GSUdomGetAttr( elCirc2, "data-tog" ), null );
		GSUdomTogAttr( elCirc2, "data-to2", "abc" ); test( "domTogAttr_0", GSUdomGetAttr( elCirc2, "data-to2" ), "abc" );
		GSUdomTogAttr( elCirc2, "data-to2", "abc" ); test( "domTogAttr_0", GSUdomGetAttr( elCirc2, "data-to2" ), null );
		GSUdomTogAttr( elCirc2, "data-to2", "abc" ); test( "domTogAttr_0", GSUdomGetAttr( elCirc2, "data-to2" ), "abc" );
		GSUdomTogAttr( elCirc2, "data-to2", "abc" ); test( "domTogAttr_0", GSUdomGetAttr( elCirc2, "data-to2" ), null );
	} );
	tests( "GSUdomAddClass", () => {
		const el = GSUdomQS( "#classes" );

		el.className = "";
		GSUdomAddClass();
		GSUdomAddClass( el );
		GSUdomAddClass( null );
		GSUdomAddClass( undefined );
		                                test( "domAddClass_0", el.className, "" );
		GSUdomAddClass( el, "a", "b" ); test( "domAddClass_1", el.className, "a b" );
		GSUdomAddClass( el, "abc" );    test( "domAddClass_2", el.className, "a b abc" );
	} );
	tests( "GSUdomHasClass", () => {
		const el = GSUdomQS( "#classes" );

		el.className = "a b abc";
		test( "domHasClass_0", GSUdomHasClass(),              false );
		test( "domHasClass_1", GSUdomHasClass( null ),        false );
		test( "domHasClass_2", GSUdomHasClass( undefined ),   false );
		test( "domHasClass_3", GSUdomHasClass( null, "123" ), false );
		test( "domHasClass_4", GSUdomHasClass( el, "123" ),   false );
		test( "domHasClass_5", GSUdomHasClass( el, "abcd" ),  false );
		test( "domHasClass_6", GSUdomHasClass( el, "abc" ),   true );
		test( "domHasClass_7", GSUdomHasClass( el, "a" ),     true );
	} );
	tests( "GSUdomRepClass", () => {
		const el = GSUdomQS( "#classes" );

		el.className = "a b abc";
		test( "domRepClass_0", [ GSUdomRepClass(                  ), el.className ], [ false, "a b abc" ] );
		test( "domRepClass_0", [ GSUdomRepClass( null             ), el.className ], [ false, "a b abc" ] );
		test( "domRepClass_0", [ GSUdomRepClass( undefined        ), el.className ], [ false, "a b abc" ] );
		test( "domRepClass_0", [ GSUdomRepClass( null, "123"      ), el.className ], [ false, "a b abc" ] );
		test( "domRepClass_0", [ GSUdomRepClass( el               ), el.className ], [ false, "a b abc" ] );
		test( "domRepClass_1", [ GSUdomRepClass( el, "qwe404"     ), el.className ], [ false, "a b abc" ] );
		test( "domRepClass_2", [ GSUdomRepClass( el, "abc", "123" ), el.className ], [ true,  "a b 123" ] );
		test( "domRepClass_3", [ GSUdomRepClass( el, "a", "b"     ), el.className ], [ true,    "b 123" ] );
	} );
	tests( "GSUdomRmClass", () => {
		const el = GSUdomQS( "#classes" );

		el.className = "a b abc";
		GSUdomRmClass();
		GSUdomRmClass( null );
		GSUdomRmClass( undefined );
		GSUdomRmClass( null, "123" );
		GSUdomRmClass( el );
		                               test( "domRmClass_0", el.className, "a b abc" );
		GSUdomRmClass( el, "abc" );    test( "domRmClass_1", el.className, "a b" );
		GSUdomRmClass( el, "a", "b" ); test( "domRmClass_2", el.className, "" );
	} );
	tests( "GSUdomTogClass", () => {
		const el = GSUdomQS( "#classes" );

		el.className = "a b abc";
		test( "domTogClass_0", [ GSUdomTogClass(                ), el.className ], [ false, "a b abc" ] );
		test( "domTogClass_1", [ GSUdomTogClass( null           ), el.className ], [ false, "a b abc" ] );
		test( "domTogClass_2", [ GSUdomTogClass( undefined      ), el.className ], [ false, "a b abc" ] );
		test( "domTogClass_3", [ GSUdomTogClass( null, "123"    ), el.className ], [ false, "a b abc" ] );
		test( "domTogClass_4", [ GSUdomTogClass( el, "abc"      ), el.className ], [ false, "a b" ] );
		test( "domTogClass_5", [ GSUdomTogClass( el, "b"        ), el.className ], [ false, "a" ] );
		test( "domTogClass_6", [ GSUdomTogClass( el, "b"        ), el.className ], [ true,  "a b" ] );
		test( "domTogClass_7", [ GSUdomTogClass( el, "b", false ), el.className ], [ false, "a" ] );
		test( "domTogClass_8", [ GSUdomTogClass( el, "b", false ), el.className ], [ false, "a" ] );
		test( "domTogClass_9", [ GSUdomTogClass( el, "b", true  ), el.className ], [ true,  "a b" ] );
		test( "domTogClass_a", [ GSUdomTogClass( el, "b", true  ), el.className ], [ true,  "a b" ] );
	} );
</script>

<!-- ....................................................................... -->
<!-- ..... gs-utils-audio .................................................. -->
<!-- ....................................................................... -->
<script>
	tests( "GSUaudioDelayDuration", () => {
		test( "audioDelayDuration_0", GSUaudioDelayDuration( -1, -1  ),       0 );
		test( "audioDelayDuration_1", GSUaudioDelayDuration( -1,  0  ),       0 );
		test( "audioDelayDuration_2", GSUaudioDelayDuration(  0, -1  ),       0 );
		test( "audioDelayDuration_3", GSUaudioDelayDuration(  0,  0  ),       0 );
		test( "audioDelayDuration_4", GSUaudioDelayDuration(  1,  1  ),       Infinity );
		test( "audioDelayDuration_5", GSUaudioDelayDuration(  1,  .5 ),       4 );
		test( "audioDelayDuration_6", GSUaudioDelayDuration(  1,  .5, .1 ),   4 );
		test( "audioDelayDuration_7", GSUaudioDelayDuration(  1,  .5, .2 ),   3 );
		test( "audioDelayDuration_8", GSUaudioDelayDuration(  1,  .5, .25 ),  2 );
		test( "audioDelayDuration_9", GSUaudioDelayDuration(  1,  .5, .26 ),  2 );
		test( "audioDelayDuration_a", GSUaudioDelayDuration(  1,  .5, .01 ),  7 );
		test( "audioDelayDuration_b", GSUaudioDelayDuration(  1,  .9993605 ), 3600 );
	} );
</script>

<!-- ....................................................................... -->
<!-- ..... GSUxxxx ......................................................... -->
<!-- ....................................................................... -->
<script>
	tests( "GSUisObj", () => {
		test( "isObj.0", GSUisObj(),            false );
		test( "isObj.1", GSUisObj( NaN ),       false );
		test( "isObj.2", GSUisObj( null ),      false );
		test( "isObj.3", GSUisObj( true ),      false );
		test( "isObj.4", GSUisObj( false ),     false );
		test( "isObj.5", GSUisObj( undefined ), false );
		test( "isObj.6", GSUisObj( GSUnoop ),   false );
		test( "isObj.7", GSUisObj( {} ),        true );
		test( "isObj.8", GSUisObj( [] ),        true );
		test( "isObj.9", GSUisObj( 21 ),        false );
		test( "isObj.a", GSUisObj( "abc" ),     false );
	} );
	tests( "GSUisArr", () => {
		test( "isArr.0", GSUisArr( [] ),        true );
		test( "isArr.1", GSUisArr( [ 0 ] ),     true );
		test( "isArr.2", GSUisArr( {} ),        false );
		test( "isArr.3", GSUisArr( "abc" ),     false );
		test( "isArr.4", GSUisArr( "" ),        false );
		test( "isArr.5", GSUisArr( null ),      false );
		test( "isArr.6", GSUisArr( undefined ), false );
		test( "isArr.7", GSUisArr( true ),      false );
		test( "isArr.8", GSUisArr( GSUnoop ),   false );
	} );
	tests( "GSUisStr", () => {
		test( "isStr.0", GSUisStr(),            false );
		test( "isStr.1", GSUisStr( NaN ),       false );
		test( "isStr.2", GSUisStr( null ),      false );
		test( "isStr.3", GSUisStr( true ),      false );
		test( "isStr.4", GSUisStr( false ),     false );
		test( "isStr.5", GSUisStr( undefined ), false );
		test( "isStr.7", GSUisStr( GSUnoop ),   false );
		test( "isStr.8", GSUisStr( {} ),        false );
		test( "isStr.9", GSUisStr( [] ),        false );
		test( "isStr.a", GSUisStr( "" ),        true );
		test( "isStr.b", GSUisStr( "0" ),       true );
	} );
	tests( "GSUisNaN", () => {
		test( "isNaN.0", GSUisNaN( NaN ),       true );
		test( "isNaN.1", GSUisNaN( 0/0 ),       true );
		test( "isNaN.2", GSUisNaN(),            false );
		test( "isNaN.3", GSUisNaN( null ),      false );
		test( "isNaN.4", GSUisNaN( undefined ), false );
		test( "isNaN.5", GSUisNaN( GSUnoop ),   false );
		test( "isNaN.6", GSUisNaN( 0 ),         false );
		test( "isNaN.7", GSUisNaN( 1 ),         false );
		test( "isNaN.8", GSUisNaN( "a" ),       false );
		test( "isNaN.9", GSUisNaN( "21" ),      false );
		test( "isNaN.a", GSUisNaN( true ),      false );
		test( "isNaN.b", GSUisNaN( false ),     false );
	} );
	tests( "GSUisNum", () => {
		test( "isNum.0", GSUisNum(),            false );
		test( "isNum.1", GSUisNum( NaN ),       false );
		test( "isNum.2", GSUisNum( null ),      false );
		test( "isNum.3", GSUisNum( true ),      false );
		test( "isNum.4", GSUisNum( false ),     false );
		test( "isNum.5", GSUisNum( undefined ), false );
		test( "isNum.6", GSUisNum( GSUnoop ),   false );
		test( "isNum.7", GSUisNum( {} ),        false );
		test( "isNum.8", GSUisNum( [] ),        false );
		test( "isNum.9", GSUisNum( "" ),        false );
		test( "isNum.a", GSUisNum( 0 ),         true );
		test( "isNum.b", GSUisNum( 21 ),        true );
		test( "isNum.c", GSUisNum( 21.5 ),      true );
		test( "isNum.d", GSUisNum( "21" ),      false );
		test( "isNum.e", GSUisNum( "abc" ),     false );
	} );
	tests( "GSUisInt", () => {
		test( "isInt.0", GSUisInt(),            false );
		test( "isInt.1", GSUisInt( NaN ),       false );
		test( "isInt.2", GSUisInt( null ),      false );
		test( "isInt.3", GSUisInt( true ),      false );
		test( "isInt.4", GSUisInt( false ),     false );
		test( "isInt.5", GSUisInt( undefined ), false );
		test( "isInt.6", GSUisInt( GSUnoop ),   false );
		test( "isInt.7", GSUisInt( {} ),        false );
		test( "isInt.8", GSUisInt( [] ),        false );
		test( "isInt.9", GSUisInt( "" ),        false );
		test( "isInt.a", GSUisInt( 0 ),         true );
		test( "isInt.b", GSUisInt( 21 ),        true );
		test( "isInt.c", GSUisInt( 21.5 ),      false );
		test( "isInt.d", GSUisInt( "21" ),      false );
		test( "isInt.e", GSUisInt( "abc" ),     false );
	} );
	tests( "GSUisBoo", () => {
		test( "isBoo.0", GSUisBoo( true ),      true );
		test( "isBoo.1", GSUisBoo( false ),     true );
		test( "isBoo.2", GSUisBoo( {} ),        false );
		test( "isBoo.3", GSUisBoo( [] ),        false );
		test( "isBoo.4", GSUisBoo( "" ),        false );
		test( "isBoo.5", GSUisBoo( 0 ),         false );
		test( "isBoo.6", GSUisBoo( 21 ),        false );
		test( "isBoo.7", GSUisBoo( NaN ),       false );
		test( "isBoo.8", GSUisBoo( null ),      false );
		test( "isBoo.9", GSUisBoo( undefined ), false );
		test( "isBoo.a", GSUisBoo( GSUnoop ),   false );
	} );
	tests( "GSUisFun", () => {
		test( "isFun.0", GSUisFun(),            false );
		test( "isFun.1", GSUisFun( NaN ),       false );
		test( "isFun.2", GSUisFun( null ),      false );
		test( "isFun.3", GSUisFun( true ),      false );
		test( "isFun.4", GSUisFun( false ),     false );
		test( "isFun.5", GSUisFun( undefined ), false );
		test( "isFun.6", GSUisFun( {} ),        false );
		test( "isFun.7", GSUisFun( [] ),        false );
		test( "isFun.8", GSUisFun( "" ),        false );
		test( "isFun.9", GSUisFun( "21" ),      false );
		test( "isFun.a", GSUisFun( 0 ),         false );
		test( "isFun.b", GSUisFun( GSUnoop ),   true );
		test( "isFun.c", GSUisFun( () => {} ),  true );
	} );
	tests( "GSUisEqual", () => {
		test( "isEqual.0", GSUisEqual( 0, 0 ),                 true );
		test( "isEqual.1", GSUisEqual( 1, 1 ),                 true );
		test( "isEqual.2", GSUisEqual( true, true ),           true );
		test( "isEqual.3", GSUisEqual( false, false ),         true );
		test( "isEqual.4", GSUisEqual( NaN, NaN ),             true );
		test( "isEqual.5", GSUisEqual( null, null ),           true );
		test( "isEqual.6", GSUisEqual( undefined, undefined ), true );
		test( "isEqual.7", GSUisEqual( GSUnoop, GSUnoop ),     true );
		test( "isEqual.8", GSUisEqual( {}, {} ),                                     true );
		test( "isEqual.9", GSUisEqual( [], [] ),                                     true );
		test( "isEqual.a", GSUisEqual( [ 0 ], [ 0 ] ),                               true );
		test( "isEqual.b", GSUisEqual( [ 0, 1 ], [ 0, 1 ] ),                         true );
		test( "isEqual.c", GSUisEqual( [ 0, [ 1 ] ], [ 0, [ 1 ] ] ),                 true );
		test( "isEqual.d", GSUisEqual( [ [ 0 ], [ [ 1 ] ] ], [ [ 0 ], [ [ 1 ] ] ] ), true );
		test( "isEqual.e", GSUisEqual( [ 0, [ 1, {} ] ], [ 0, [ 1, {} ] ] ),         true );
		test( "isEqual.f", GSUisEqual( { a: 21 }, { a: 21 } ),                                                           true );
		test( "isEqual.g", GSUisEqual( { a: 21, b: NaN, c: 42 }, { a: 21, b: NaN, c: 42 } ),                             true );
		test( "isEqual.h", GSUisEqual( { a: [ 0, 1 ], b: NaN, c: 42 }, { a: [ 0, 1 ], b: NaN, c: 42 } ),                 true );
		test( "isEqual.i", GSUisEqual( { a: [ 0, 1 ], b: NaN, c: { aa: 42 } }, { a: [ 0, 1 ], b: NaN, c: { aa: 42 } } ), true );
		test( "isEqual.j", GSUisEqual( 0, "0" ),             false );
		test( "isEqual.k", GSUisEqual( 1, "1" ),             false );
		test( "isEqual.l", GSUisEqual( true, false ),        false );
		test( "isEqual.m", GSUisEqual( false, undefined ),   false );
		test( "isEqual.n", GSUisEqual( NaN, null ),          false );
		test( "isEqual.o", GSUisEqual( null, {} ),           false );
		test( "isEqual.p", GSUisEqual( undefined, null ),    false );
		test( "isEqual.q", GSUisEqual( {}, [] ),             false );
		test( "isEqual.r", GSUisEqual( [], "" ),             false );
		test( "isEqual.s", GSUisEqual( () => {}, () => {} ), false );
		test( "isEqual.t", GSUisEqual( [], [ 0 ] ),          false );
		test( "isEqual.u", GSUisEqual( [ 0 ], [] ),          false );
		test( "isEqual.v", GSUisEqual( {}, { a: 0 } ),       false );
		test( "isEqual.w", GSUisEqual( { a: 0 }, {} ),       false );
		test( "isEqual.x", GSUisEqual( [ 0, 1, 2 ], [ 0, 1, 3 ] ),                       false );
		test( "isEqual.y", GSUisEqual( [ 0, [ 1, 2 ] ], [ 0, [ 1, 3 ] ] ),               false );
		test( "isEqual.z", GSUisEqual( [ 0, [ 1, { a: 2 } ] ], [ 0, [ 1, { a: 3 } ] ] ), false );
		test( "isEqual.A", GSUisEqual( [ 0, [ 1, { a: 2 } ] ], [ 0, [ 1, { b: 2 } ] ] ), false );
		test( "isEqual.B", GSUisEqual( new Map(), new Map() ), true );
		// test( "isEqual.C", GSUisEqual( new Map( [ 21 ] ), new Map( [ 21 ] ) ), true );
	} );
	tests( "GSUdotProp", () => {
		const objDotProp = {};
		testStrict( "dotProp.0", GSUdotProp( objDotProp ), objDotProp );
		testStrict( "dotProp.1", GSUdotProp( objDotProp, "" ), objDotProp );
		test( "dotProp.2", GSUdotProp( null,       "" ), null );
		test( "dotProp.3", GSUdotProp( true,       "" ), true );
		test( "dotProp.4", GSUdotProp( null,      "a"   ), undefined );
		test( "dotProp.5", GSUdotProp( undefined, ""    ), undefined );
		test( "dotProp.6", GSUdotProp( true,      "a"   ), undefined );
		test( "dotProp.7", GSUdotProp( true,      "a.b" ), undefined );
		test( "dotProp.8", GSUdotProp( false,     "a"   ), undefined );
		test( "dotProp.9", GSUdotProp( {}, "a" ),     undefined );
		test( "dotProp.a", GSUdotProp( {}, "a.b" ),   undefined );
		test( "dotProp.b", GSUdotProp( {}, "a.b.c" ), undefined );
		test( "dotProp.c", GSUdotProp( { a: 1 }, "a" ),   1 );
		test( "dotProp.d", GSUdotProp( { a: 1 }, "b" ),   undefined );
		test( "dotProp.e", GSUdotProp( { a: 1 }, "b.c" ), undefined );
		test( "dotProp.f", GSUdotProp( { a: { b: 2 } }, "a.b"   ), 2 );
		test( "dotProp.g", GSUdotProp( { a: { b: 2 } }, "a.c"   ), undefined );
		test( "dotProp.h", GSUdotProp( { a: { b: 2 } }, "a.c.d" ), undefined );
		test( "dotProp.i", GSUdotProp( { a: { b: [ 3    ] } }, "a.b.0" ), 3 );
		test( "dotProp.j", GSUdotProp( { a: { b: [ 3, 4 ] } }, "a.b.1" ), 4 );
		test( "dotProp.k", GSUdotProp( { a: { b: [ 3, 4 ] } }, "a.b.2" ), undefined );
		test( "dotProp.l", GSUdotProp( {},               "a" ), undefined );
		test( "dotProp.m", GSUdotProp( { a: undefined }, "a" ), GSUdotProp.$undefined );
		test( "dotProp.n", GSUdotProp( { a: 1 }, ".a" ), 1 );
	} );
	tests( "GSUforEach", () => {
		const objFE = { a: 10, b: 20 };
		const arrFE = [ 10, 20 ];
		let resFE;
		testStrict( "forEach.0", GSUforEach( objFE,     GSUnoop ), objFE );
		testStrict( "forEach.1", GSUforEach( arrFE,     GSUnoop ), arrFE );
		testStrict( "forEach.2", GSUforEach( null,      null    ), null );
		testStrict( "forEach.3", GSUforEach( false,     null    ), false );
		testStrict( "forEach.4", GSUforEach( undefined, null    ), undefined );
		testStrict( "forEach.5", GSUforEach( true,      null    ), true );
		testStrict( "forEach.6", GSUforEach( 21,        null    ), 21 );
		resFE = "";
		GSUforEach( objFE, ( val, key, obj ) => { resFE += `${ key }:${ val }:${ obj === objFE }:` } );
		test( "forEach.7", resFE, "a:10:true:b:20:true:" );
		resFE = "";
		GSUforEach( arrFE, ( val, key, obj ) => { resFE += `${ key }:${ val }:${ obj === arrFE }:` } );
		test( "forEach.8", resFE, "0:10:true:1:20:true:" );
	} );
	tests( "GSUreduce", () => {
		const fnSum = ( sum, n, i ) => sum + n + i;
		test( "reduce.0", GSUreduce( NaN,                     null,  0 ), 0 );
		test( "reduce.1", GSUreduce( null,                    null,  0 ), 0 );
		test( "reduce.2", GSUreduce( true,                    null,  0 ), 0 );
		test( "reduce.3", GSUreduce( false,                   null,  0 ), 0 );
		test( "reduce.4", GSUreduce( undefined,               null,  0 ), 0 );
		test( "reduce.5", GSUreduce( GSUnoop,                 null,  0 ), 0 );
		test( "reduce.6", GSUreduce( [],                      fnSum, 0 ), 0 );
		test( "reduce.7", GSUreduce( {},                      fnSum, 0 ), 0 );
		test( "reduce.8", GSUreduce( [ 10, 20, 30 ],          fnSum, 0 ), 63 );
		test( "reduce.9", GSUreduce( { a: 10, b: 20, c: 30 }, fnSum, 0 ), "10a20b30c" );
	} );
	tests( "GSUsome", () => {
		const fnSome21 = n => n === 21;
		test( "some_0", GSUsome( NaN,             null        ), false );
		test( "some_1", GSUsome( null,            null        ), false );
		test( "some_2", GSUsome( true,            null        ), false );
		test( "some_3", GSUsome( false,           null        ), false );
		test( "some_4", GSUsome( undefined,       null        ), false );
		test( "some_5", GSUsome( GSUnoop,         null        ), false );
		test( "some_6", GSUsome( [],              fnSome21    ), false );
		test( "some_7", GSUsome( {},              fnSome21    ), false );
		test( "some_8", GSUsome( [ 0, 1,  2 ],    fnSome21    ), false );
		test( "some_9", GSUsome( { a: 0, b:  1 }, fnSome21    ), false );
		test( "some_a", GSUsome( [ 21 ],          fnSome21    ), true  );
		test( "some_b", GSUsome( [ 0, 1, 21 ],    fnSome21    ), true  );
		test( "some_c", GSUsome( { a: 0, b: 21 }, fnSome21    ), true  );
		test( "some_d", GSUsome( [],              () => true  ), false );
		test( "some_e", GSUsome( [ 1 ],           () => true  ), true  );
		test( "some_f", GSUsome( [ 0 ],           () => true  ), true  );
		test( "some_g", GSUsome( [],              () => false ), false );
		test( "some_h", GSUsome( [ 1 ],           () => false ), false );
		test( "some_i", GSUsome( [ 0 ],           () => false ), false );
	} );
	tests( "GSUHztoX", () => {
		test( "HztoX.0", GSUmathFix( GSUHztoX( GSUXtoHz( .5 ) ), 8 ), .5 );
		test( "HztoX.1", GSUHztoX( 1 ), 1 );
		test( "HztoX.2", GSUXtoHz( 1 ), 1 );
	} );
	tests( "GSUnewArray", () => {
		test( "newArray.0", GSUnewArray( 0 ),        [] );
		test( "newArray.1", GSUnewArray( 1 ).length,  1 );
		test( "newArray.2", GSUnewArray( 2 ).length,  2 );
		test( "newArray.3", GSUnewArray( 3, 7 ),      [ 7, 7, 7 ] );
		test( "newArray.4", GSUnewArray( 3, i => i ), [ 0, 1, 2 ] );
	} );
	tests( "GSUarrayEq", () => {
		test( "arrayEq_0", GSUarrayEq( [],          []               ), true );
		test( "arrayEq_1", GSUarrayEq( [ 0 ],       [ 0 ]            ), true );
		test( "arrayEq_2", GSUarrayEq( [ 0, 0 ],    [ 0, 0 ]         ), true );
		test( "arrayEq_3", GSUarrayEq( [ .1 + .2 ], [ .1 + .2 ]      ), true );
		test( "arrayEq_4", GSUarrayEq( [ -1 ],      [ -1 ]           ), true );
		test( "arrayEq_5", GSUarrayEq( [ 0 ],       [ 1 ],        1  ), true );
		test( "arrayEq_6", GSUarrayEq( [ 0, 0 ],    [ 0, 0.01 ], .01 ), true );
		test( "arrayEq_7", GSUarrayEq( [ 0, 1 ],    [ 0, 1.01 ], .01 ), true );
		test( "arrayEq_8", GSUarrayEq( [ 0 ],       [ 1 ]            ), false );
		test( "arrayEq_9", GSUarrayEq( [ 0 ],       [ 0, 0 ],     1  ), false );
		test( "arrayEq_a", GSUarrayEq( [ 0 ],       [ 0.0101 ],  .01 ), false );
		test( "arrayEq_b", GSUarrayEq( new Float32Array( [] ),    new Float32Array( [] )    ), true );
		test( "arrayEq_c", GSUarrayEq( new Float32Array( [ 0 ] ), new Float32Array( [ 0 ] ) ), true );
		test( "arrayEq_d", GSUarrayEq( new Float32Array( [ 0 ] ), new Float32Array( [ 0.1 ] ) ), false );
	} );
	tests( "GSUarrayFrom", () => {
		const objEmpty = {};
		const arrEmpty = [];
		const arr123 = [ 1, 2, 3 ];
		test( "arrayFrom.0", GSUarrayFrom( arr123 ),        arr123 );
		test( "arrayFrom.1", GSUarrayFrom( arrEmpty ),      arrEmpty );
		test( "arrayFrom.2", GSUarrayFrom( objEmpty )[ 0 ], objEmpty );
		// test( "arrayFrom.2", GSUarrayFrom( 21 )[ 0 ], 21 );
	} );
	tests( "GSUarrayRemove", () => {
		const arrRm = [ 1, 2, 3, 4, 5 ];
		testStrict( "arrayRemove.0", GSUarrayRemove( arrRm, 3 ), arrRm );
		test( "arrayRemove.1", arrRm, [ 1, 2, 4, 5 ] );
		test( "arrayRemove.2", GSUarrayRemove( [], 1          ), [] );
		test( "arrayRemove.3", GSUarrayRemove( []             ), [] );
		test( "arrayRemove.4", GSUarrayRemove( [ 1 ], 1       ), [] );
		test( "arrayRemove.6", GSUarrayRemove( [ 1, 1, 1 ], 1 ), [] );
		test( "arrayRemove.5", GSUarrayRemove( [ 1 ]                           ), [ 1 ] );
		test( "arrayRemove.7", GSUarrayRemove( [ 2, 1, 1, 1, 3 ], 1            ), [ 2, 3 ] );
		test( "arrayRemove.8", GSUarrayRemove( [ 2, 1, 1, 1, 3 ], x => x === 1 ), [ 2, 3 ] );
		test( "arrayRemove.9", GSUarrayRemove( [ 1, 2 ],  GSUnoop              ), [ 1, 2 ] );
		test( "arrayRemove.a", GSUarrayRemove( null,      GSUnoop ), null );
		test( "arrayRemove.b", GSUarrayRemove( undefined, GSUnoop ), undefined );
	} );
	tests( "GSUarrayResize", () => {
		test( "arrayResize_0", GSUarrayResize( [ 21                       ], 0 ), [                             ] );
		test( "arrayResize_1", GSUarrayResize( [ 21                       ], 1 ), [ 21                          ] );
		test( "arrayResize_2", GSUarrayResize( [                          ], 1 ), [  0                          ] );
		test( "arrayResize_3", GSUarrayResize( [ 21                       ], 2 ), [ 21, 21                      ] );
		test( "arrayResize_4", GSUarrayResize( [  7                       ], 3 ), [  7,  7,     7               ] );
		test( "arrayResize_5", GSUarrayResize( [  0,  9                   ], 2 ), [  0,  9                      ] );
		test( "arrayResize_6", GSUarrayResize( [  0,  9                   ], 1 ), [  0                          ] ); // ?
		test( "arrayResize_7", GSUarrayResize( [  0,  9                   ], 3 ), [  0,  4.5,   9               ] );
		test( "arrayResize_8", GSUarrayResize( [  0, 10                   ], 3 ), [  0,  5,    10               ] );
		test( "arrayResize_9", GSUarrayResize( [  1,  2, 3, 10, 100, 1000 ], 5 ), [  1,  2.25,  6.5, 77.5, 1000 ] );
	} );
	// tests( "GSUarrayInsertSort", () => {
	// 	test( "arrayInsertSort.0", GSUarrayInsertSort( [ 10, 20, 30 ], 25, ( n, x ) => n - x ), [ 10, 20, 25, 30 ] );
	// 	test( "arrayInsertSort.1", GSUarrayInsertSort( [ 10, 20, 30 ], 15, ( n, x ) => n - x ), [ 10, 15, 20, 30 ] );
	// 	test( "arrayInsertSort.2", GSUarrayInsertSort( [ 10, 20, 30 ],  5, ( n, x ) => n - x ), [  5, 10, 20, 30 ] );
	// 	test( "arrayInsertSort.3", GSUarrayInsertSort( [ 10, 20, 30 ], 99, ()       =>  1 ),    [ 99, 10, 20, 30 ] );
	// 	test( "arrayInsertSort.4", GSUarrayInsertSort( [ 10, 20, 30 ], 99, ()       => -1 ),    [ 10, 20, 30, 99 ] );
	// 	test( "arrayInsertSort.5", GSUarrayInsertSort( [ { x: 10 }, { x: 20 } ], { x: 15 }, ( a, b ) => a.x - b.x ), [ { x: 10 }, { x: 15 }, { x: 20 } ] );
	// } );
	tests( "GSUisEmpty", () => {
		test( "isEmpty.0", GSUisEmpty( {} ),               true );
		test( "isEmpty.1", GSUisEmpty( [] ),               true );
		test( "isEmpty.2", GSUisEmpty( "" ),               true );
		test( "isEmpty.3", GSUisEmpty( new Map() ),        true );
		test( "isEmpty.4", GSUisEmpty( new Set() ),        true );
		test( "isEmpty.5", GSUisEmpty( "0" ),                       false );
		test( "isEmpty.6", GSUisEmpty( [ 0 ] ),                     false );
		test( "isEmpty.7", GSUisEmpty( { a: null } ),               false );
		test( "isEmpty.8", GSUisEmpty( { a: undefined } ),          false );
		test( "isEmpty.9", GSUisEmpty( new Map( [ [ "a", 1 ] ] ) ), false );
		test( "isEmpty.a", GSUisEmpty( new Set( [ 21 ] ) ),         false );
		test( "isEmpty.b", GSUisEmpty( null ),             true );
		test( "isEmpty.c", GSUisEmpty( undefined ),        true );
		test( "isEmpty.d", GSUisEmpty( 21 ),               true );
		test( "isEmpty.e", GSUisEmpty( NaN ),              true );
		test( "isEmpty.f", GSUisEmpty( true ),             true );
		test( "isEmpty.g", GSUisEmpty( false ),            true );
	} );
	tests( "GSUtrim2", () => {
		test( "trim2.0", GSUtrim2( "" ),                "" );
		test( "trim2.1", GSUtrim2( "a" ),               "a" );
		test( "trim2.2", GSUtrim2( "a b c" ),           "a b c" );
		test( "trim2.3", GSUtrim2( "  a  b  c  " ),     "a b c" );
		test( "trim2.4", GSUtrim2( " \t a  b\tc \t " ), "a b c" );
		test( "trim2.5", GSUtrim2( 21 ),        "" );
		test( "trim2.6", GSUtrim2( NaN ),       "" );
		test( "trim2.7", GSUtrim2( true ),      "" );
		test( "trim2.8", GSUtrim2( false ),     "" );
		test( "trim2.9", GSUtrim2( null ),      "" );
		test( "trim2.a", GSUtrim2( undefined ), "" );
		test( "trim2.b", GSUtrim2( {} ),        "" );
		test( "trim2.c", GSUtrim2( [] ),        "" );
	} );
	tests( "GSUcountChar", () => {
		test( "countChar.0", GSUcountChar(),                      0 );
		test( "countChar.1", GSUcountChar( "", "" ),              0 );
		test( "countChar.2", GSUcountChar( null ),                0 );
		test( "countChar.3", GSUcountChar( true ),                0 );
		test( "countChar.4", GSUcountChar( undefined ),           0 );
		test( "countChar.5", GSUcountChar( "" ),                  0 );
		test( "countChar.6", GSUcountChar( "", NaN ),             0 );
		test( "countChar.7", GSUcountChar( "", null ),            0 );
		test( "countChar.8", GSUcountChar( "", true ),            0 );
		test( "countChar.9", GSUcountChar( "", false ),           0 );
		test( "countChar.a", GSUcountChar( "", undefined ),       0 );
		test( "countChar.b", GSUcountChar( "", "." ),             0 );
		test( "countChar.c", GSUcountChar( "asd", null ),         0 );
		test( "countChar.d", GSUcountChar( ".", "." ),            1 );
		test( "countChar.e", GSUcountChar( "...", "." ),          3 );
		test( "countChar.f", GSUcountChar( "asd.zxc..qwe", "." ), 3 );
	} );
	tests( "GSUsplitNums", () => {
		test( "splitNums.0", GSUsplitNums( 21        ), [] );
		test( "splitNums.1", GSUsplitNums( NaN       ), [] );
		test( "splitNums.2", GSUsplitNums( null      ), [] );
		test( "splitNums.3", GSUsplitNums( true      ), [] );
		test( "splitNums.4", GSUsplitNums( false     ), [] );
		test( "splitNums.5", GSUsplitNums( undefined ), [] );
		test( "splitNums.6", GSUsplitNums( GSUnoop   ), [] );
		test( "splitNums.7", GSUsplitNums( ""        ), [] );
		test( "splitNums.8", GSUsplitNums( "1"              ), [ 1 ] );
		test( "splitNums.9", GSUsplitNums( "1 2 3"          ), [ 1, 2, 3 ] );
		test( "splitNums.a", GSUsplitNums( "7",         "," ), [ 7 ] );
		test( "splitNums.b", GSUsplitNums( "1/2/foo",   "/" ), [ 1, 2, 0 ] );
		test( "splitNums.c", GSUsplitNums( "3/4",       "/" ), [ 3, 4 ] );
		test( "splitNums.d", GSUsplitNums( "1.2/-3.14", "/" ), [ 1.2, -3.14 ] );
		test( "splitNums.e", GSUsplitNums( "//",        "/" ), [ 0, 0, 0 ] );
	} );
	tests( "GSUsplitInts", () => {
		test( "splitInts.0", GSUsplitInts( 21        ), [] );
		test( "splitInts.1", GSUsplitInts( NaN       ), [] );
		test( "splitInts.2", GSUsplitInts( null      ), [] );
		test( "splitInts.3", GSUsplitInts( true      ), [] );
		test( "splitInts.4", GSUsplitInts( false     ), [] );
		test( "splitInts.5", GSUsplitInts( undefined ), [] );
		test( "splitInts.6", GSUsplitInts( GSUnoop   ), [] );
		test( "splitInts.7", GSUsplitInts( ""        ), [] );
		test( "splitInts.8", GSUsplitInts( "1",          "/" ), [ 1 ] );
		test( "splitInts.9", GSUsplitInts( "1.5/3.15",   "/" ), [ 1, 3 ] );
		test( "splitInts.a", GSUsplitInts( "-1.5/-3.15", "/" ), [ -1, -3 ] );
		test( "splitInts.b", GSUsplitInts( "1/2",        "/" ), [ 1, 2 ] );
		test( "splitInts.c", GSUsplitInts( "1/2/foo",    "/" ), [ 1, 2, 0 ] );
		test( "splitInts.d", GSUsplitInts( "1/2//3",     "/" ), [ 1, 2, 0, 3 ] );
		test( "splitInts.e", GSUsplitInts( "//",         "/" ), [ 0, 0, 0 ] );
	} );
	tests( "GSUuuid", () => {
		test( "uuid.0", GSUuuid().length, 36 );
	} );
	tests( "GSUuniqueName", () => {
		test( "uniqueName.0", GSUuniqueName( "foo",      [] ),                                "foo" );
		test( "uniqueName.1", GSUuniqueName( "foo",      [ "foo" ] ),                         "foo-2" );
		test( "uniqueName.2", GSUuniqueName( "foo",      [ "foo", "foo-2" ] ),                "foo-3" );
		test( "uniqueName.3", GSUuniqueName( "foo-2",    [ "foo", "foo-2" ] ),                "foo-3" );
		test( "uniqueName.4", GSUuniqueName( "foo-2",    [ "foo", "foo-3" ] ),                "foo-2" );
		test( "uniqueName.5", GSUuniqueName( "foo-2",    [ "foo", "foo-3", "foo-2" ] ),       "foo-4" );
		test( "uniqueName.6", GSUuniqueName( "foo-21-2", [ "foo", "foo-21-1", "foo-21-2" ] ), "foo-21-3" );
	} );
	tests( "GSUsplitSeconds", () => {
		test( "splitSeconds.0", GSUsplitSeconds(  0 ),       { m: "0", s: "00", ms: "000" } );
		test( "splitSeconds.1", GSUsplitSeconds( 21 ),       { m: "0", s: "21", ms: "000" } );
		test( "splitSeconds.2", GSUsplitSeconds( 60 ),       { m: "1", s: "00", ms: "000" } );
		test( "splitSeconds.3", GSUsplitSeconds( 71 ),       { m: "1", s: "11", ms: "000" } );
		test( "splitSeconds.4", GSUsplitSeconds( 71.12345 ), { m: "1", s: "11", ms: "123" } );
	} );
	tests( "GSUsetModel", () => {
		test( "setModel.0", GSUisEmpty( GSUmodels ), true );
		test( "setModel.1", GSUgetModel( "foo" ), null );
		test( "setModel.2", GSUgetModel(), null );
		test( "setModel.3", GSUisEmpty( GSUmodels ), true );
		test( "setModel.4", GSUsetModel( "foo", { a: 1 } ), undefined );
		test( "setModel.5", GSUisEmpty( GSUmodels ), false );
		test( "setModel.6", GSUgetModel( "foo" ), { a: 1 } );
		test( "setModel.7", GSUgetModel( "foo", { a: 2 } ), { a: 2 } );
		test( "setModel.8", GSUgetModel( "foo", { b: 2 } ).a, 1 );
		test( "setModel.9", GSUgetModel( "foo", { b: 2 } ).b, undefined );
		test( "setModel.a", GSUgetModel( "foo", { a: 3, b: 4 } ).a, 3 );
		test( "setModel.b", GSUgetModel( "foo", { a: 3, b: 4 } ).b, undefined );
		test( "setModel.c", GSUmodels.get( "foo" ), { a: 1 } );
		test( "setModel.d", GSUmodels.get( "foo" ).a, 1 );
		GSUmodels.get( "foo" ).a = 2;
		test( "setModel.e", GSUmodels.get( "foo" ).a, 1 );
		const myMod = GSUgetModel( "foo" );
		myMod.a = 21;
		test( "setModel.f", myMod.a, 21 );
		myMod.b = 42;
		test( "setModel.g", myMod.b, undefined );
		test( "setModel.h", GSUgetModel( "foo", null ), { a: 1 } );
		test( "setModel.i", GSUgetModel( "foo", undefined ), { a: 1 } );
		test( "setModel.j", GSUgetModel( "foo", false ), { a: 1 } );
		test( "setModel.k", GSUgetModel( "foo", true ), { a: 1 } );
		test( "setModel.l", GSUgetModel( "foo", NaN ), { a: 1 } );
		test( "setModel.m", GSUgetModel( "foo", "hello" ), { a: 1 } );
		test( "setModel.n", GSUgetModel( "foo", [] ), { a: 1 } );
		test( "setModel.o", GSUgetModel( "foo", { b: 2, c: 3, a: 21 } ), { a: 21 } );
		test( "setModel.p", GSUgetModel( "foo", GSUdomBody ), { a: 1 } );
	} );
</script>

<!-- ....................................................................... -->
<!-- ..... gs-utils-jquery ................................................. -->
<!-- ....................................................................... -->
<script>
	tests( "$_cnstrctr_errors", () => {
		const a = $( "#square1" );
		const b = $( "#square1" ).$get( 0 );

		testStrict( "jq0_0", $noop.$size(), 0 );
		testStrict( "jq0_1", $( 0 ).$size(), 0 );
		testStrict( "jq0_2", $( null ).$size(), 0 );
		testStrict( "jq0_3", $( "#e404" ).$size(), 0 );
		testStrict( "jq0_4", $( undefined ).$size(), 0 );
		testStrict( "jq0_5", $( [ undefined, null ] ).$size(), 0 );
		testStrict( "jq0_6", $( [ undefined, null, b ] ).$size(), 1 );
		testStrict( "jq0_7", $( [ undefined, a, null, b ] ).$size(), 1 );
	} );
	tests( "$_cnstrctr_sel", () => {
		const a = $( "#square1" );
		const b = $( ".circle1" );
		const u = $( "#e404" );
		const bb = GSUdomQSA( ".circle1" );

		testStrict( "jqA_0", a.$get( 0 ), GSUdomQS( "#square1" ) );
		testStrict( "jqA_1", b.$get( 0 ), bb[ 0 ] );
		testStrict( "jqA_2", b.$get( 1 ), bb[ 1 ] );
		testStrict( "jqA_3", u.$get( 0 ), undefined );
	} );
	tests( "$_cnstrctr_elm_sel", () => {
		const eljq_1 = GSUdomQS( "#eljq_1" );
		const eljq_2 = GSUdomQS( "#eljq_2" );

		testStrict( "jqB_0", $( null,   ".a"     ).$size(), 0 );
		testStrict( "jqB_1", $( eljq_1, ".a"     ).$size(), 1 );
		testStrict( "jqB_2", $( eljq_1, ".b"     ).$size(), 2 );
		testStrict( "jqB_3", $( eljq_1, ".a, .b" ).$size(), 3 );
	} );
	tests( "$_cnstrctr_arrElm_sel", () => {
		const eljq_1 = GSUdomQS( "#eljq_1" );
		const eljq_2 = GSUdomQS( "#eljq_2" );

		testStrict( "jqC_0", $( [                ], ".a"     ).$size(), 0 );
		testStrict( "jqC_1", $( [ eljq_1         ], ".a"     ).$size(), 1 );
		testStrict( "jqC_2", $( [ eljq_1, eljq_1 ], ".a"     ).$size(), 1 );
		testStrict( "jqC_3", $( [ eljq_1, eljq_2 ], ".a"     ).$size(), 2 );
		testStrict( "jqC_4", $( [ eljq_1, eljq_2 ], ".b"     ).$size(), 4 );
		testStrict( "jqC_5", $( [ eljq_1, eljq_2 ], ".a, .b" ).$size(), 6 );
	} );
	tests( "$_cnstrctr_jqu", () => {
		const a = $( "#eljq_1" );
		const b = $( "#eljq_1 .b" );

		testStrict( "jqD_0", $( a ).$size(), 1 );
		testStrict( "jqD_1", $( b ).$size(), 2 );
	} );
	tests( "$_cnstrctr_arrJQu", () => {
		const a = $( "#eljq_1 .b" );
		const b = $( "#eljq_2 .b" );

		testStrict( "jqE_0", $( [ a, b ] ).$size(), 4 );
	} );
	tests( "$_cnstrctr_tag", () => {
		testStrict( "jqF_0", $( "<div>" ).$get( 0 ).tagName, "DIV" );
		testStrict( "jqF_1", $( "<gs-flex>" ).$get( 0 ).tagName, "GS-FLEX" );
	} );
	tests( "$_is", () => {
		const a = $( "#eljq_1" );
		const b = $( "#eljq_1" ).$get( 0 );
		const c = $( "#eljq_2" );
		const d = $( "#eljq_1 *" );
		const e = $( "#eljq_1 :last-child" );
		const f = $( "#eljq_1 :last-child" ).$get( 0 );

		testStrict( "jqIs_0", a.$is(),            false );
		testStrict( "jqIs_1", a.$is( 0 ),         false );
		testStrict( "jqIs_2", a.$is( 1 ),         false );
		testStrict( "jqIs_3", a.$is( null ),      false );
		testStrict( "jqIs_4", a.$is( undefined ), false );
		testStrict( "jqIs_5", a.$is( b ), true );
		testStrict( "jqIs_6", a.$is( a ), true );
		testStrict( "jqIs_7", a.$is( c ), false );
		testStrict( "jqIs_8", d.$is( e ), true );
		testStrict( "jqIs_9", d.$is( f ), true );
		testStrict( "jqIs_a", e.$is( d ), true );
	} )
	tests( "$_get", () => {
		const a = $( "#eljq_1 *" );
		const b = GSUdomQSA( "#eljq_1 *" );

		testStrict( "jqG_0", a.$get( -1 ), b[ 2 ] );
		testStrict( "jqG_1", a.$get( 0 ), b[ 0 ] );
		testStrict( "jqG_2", a.$get( 1 ), b[ 1 ] );
		testStrict( "jqG_3", a.$get( 2 ), b[ 2 ] );
	} );
	tests( "$_text", () => {
		const a = $( "#eljq_text" );
		const b = a.$children();

		testStrict( "jqText_0", a.$text(), "\n\t\tAa\n\t\tBb\n\t" );
		b.$text( "X" );
		testStrict( "jqText_1", a.$text(), "\n\t\tX\n\t\tX\n\t" );
		b.$text( ( el, i ) => el.textContent + i );
		testStrict( "jqText_2", a.$text(), "\n\t\tX0\n\t\tX1\n\t" );
	} );
	tests( "$_value", () => {
		const a = $( "#eljq_value input:first-child" );
		const b = $( "#eljq_value input" );

		testStrict( "jqText_0", a.$value(), "initA" );
		a.$value( "aplop" );
		testStrict( "jqText_1", a.$value(), "aplop" );
		testStrict( "jqText_2", a.$value(), a.$get( 0 ).value );
		b.$value( "777" );
		testStrict( "jqText_3", a.$value(), "777" );
		testStrict( "jqText_4", a.$value(), a.$get( 0 ).value );
		testStrict( "jqText_5", "777", b.$get( 0 ).value );
		b.$value( ( el, i ) => i );
		testStrict( "jqText_6", "0", b.$get( 0 ).value );
		testStrict( "jqText_7", "1", b.$get( 1 ).value );
	} );
	tests( "$_tag", () => {
		testStrict( "jqTag_0", $( [] ).$tag(), undefined );
		testStrict( "jqTag_1", $( "#eljq_1" ).$tag(), "div" );
		testStrict( "jqTag_2", $( "#eljq_1 *" ).$tag(), "div" );
		testStrict( "jqTag_3", $( "#eljq_tag" ).$tag(), "abc-custom" );
	} );
	tests( "$_parent", () => {
		testStrict( "jqParent_0", $( [] ).$parent().$size(), 0 );
		testStrict( "jqParent_1", $( "#eljq_parent_b" ).$parent().$getAttr( "id" ), "eljq_parent_a" );
	} );
	tests( "$_index", () => {
		testStrict( "jqIndex_0", $().$index(), -1 );
		testStrict( "jqIndex_1", $( "#e404" ).$index(), -1 );
		testStrict( "jqIndex_2", $( "#eljq_index_0" ).$index(), 0 );
		testStrict( "jqIndex_3", $( "#eljq_index_1" ).$index(), 1 );
		testStrict( "jqIndex_4", $( "#eljq_index_2" ).$index(), 2 );
		testStrict( "jqIndex_5", $( "#eljq_index *" ).$index(), 0 );
		testStrict( "jqIndex_6", $( "#eljq_index * + *" ).$index(), 1 );
	} );
	tests( "$_append", () => {
		const a = $( "#eljq_append" );
		const b = $( "<div>" );

		testStrict( "jqAppend_0", a.$children().$size(), 0 );
		testStrict( "jqAppend_1", a.$append( b ).$size(), 1 );

		const c = GSUdomQSA( "#eljq_append *" );
		const d = $( "<span>" );

		testStrict( "jqAppend_2", c.length, 1 );
		testStrict( "jqAppend_3", c[ 0 ], b.$get( 0 ) );

		a.$append( d );
		const e = GSUdomQSA( "#eljq_append *" );

		testStrict( "jqAppend_4", e.length, 2 );
		testStrict( "jqAppend_5", e[ 0 ], b.$get( 0 ) );
		testStrict( "jqAppend_6", e[ 1 ], d.$get( 0 ) );

		const f = $( "<b>" );
		const g = $( "<i>" ).$get( 0 );

		a.$append( f, g );
		const h = GSUdomQSA( "#eljq_append *" );

		testStrict( "jqAppend_7", h.length, 4 );
		testStrict( "jqAppend_8", h[ 2 ].tagName, "B" );
		testStrict( "jqAppend_9", h[ 3 ].tagName, "I" );

		a.$append( null );
		a.$append( null, undefined );
		a.$append( [ null ] );
		a.$append( [ null, undefined ] );
		const i = GSUdomQSA( "#eljq_append *" );

		testStrict( "jqAppend_a", i.length, 4 );
	} );
	tests( "$_a", () => {
		const jq404 = $( "#e404" );
		const sq1 = GSUdomQS( "#square1" );

		testStrict( "jqZ_0", jq404[ 0 ], undefined );
		testStrict( "jqZ_1", $( "#square1" ).$get( 0 ), sq1 );

		const sq2divs = $( "#square2 div" );
		const sq2divs2 = GSUdomQSA( "#square2 div" );

		testStrict( "jqZ_2", sq2divs.$get( 0 ), sq2divs2[ 0 ] );
		testStrict( "jqZ_3", sq2divs.$get( 1 ), sq2divs2[ 1 ] );

		let ret = true;
		let count = 0;
		const eachRet = sq2divs.$each( ( el, i ) => {
			if ( el !== sq2divs2[ i ] ) {
				ret = false;
			}
			++count;
		} );

		testStrict( "jqZ_4", ret, true );
		testStrict( "jqZ_5", count, 2 );
		testStrict( "jqZ_6", eachRet, sq2divs );

		jq404.$setAttr( "data-jkl", "oWe" );

		const jkl404 = jq404.$getAttr( "data-jkl" );

		testStrict( "jqZ_7", jkl404, null );

		$( "#square1" ).$setAttr( "data-jkl", "oWe" );
		testStrict( "jqZ_8", GSUdomGetAttr( sq1, "data-jkl" ), "oWe" );

		$( "#square1" ).$rmAttr( "data-jkl" );
		testStrict( "jqZ_9", GSUdomHasAttr( sq1, "data-jkl" ), false );

		let ret2 = true;
		$( "#square2 div" ).$setAttr( "data-jkl", "wAq" );
		sq2divs2.forEach( el => {
			if ( GSUdomGetAttr( el, "data-jkl" ) !== "wAq" ) {
				ret2 = false;
			}
		} );
		testStrict( "jqZ_a", ret2, true );

		let ret3 = true;
		$( "#square2 div" ).$rmAttr( "data-jkl" );
		sq2divs2.forEach( el => {
			if ( GSUdomHasAttr( el, "data-jkl" ) ) {
				ret3 = false;
			}
		} );
		testStrict( "jqZ_b", ret3, true );

		jq404.$text( "foo" );
		const txt404 = jq404.$text();

		testStrict( "jqZ_c", txt404, undefined );
	} );
	tests( "$_find", () => {
		const a = $( "#eljq_find > *" );

		testStrict( "jqFind_0", a.$size(), 6 );
		testStrict( "jqFind_1", a.$find( () => false ).$size(), 0 );
		testStrict( "jqFind_2", a.$find( () => false ).$get( 0 ), undefined );
		testStrict( "jqFind_3", a.$find( ( el, i ) => el.dataset.i === "0" && i === 0 ).$get( 0 ), a.$get( 0 ) );
		testStrict( "jqFind_4", a.$find( ( el, i ) => el.dataset.i === "1" && i === 1 ).$get( 0 ), a.$get( 1 ) );
		testStrict( "jqFind_5", a.$find( ( el, i ) => el.dataset.i === "5" && i === 5 ).$get( 0 ), a.$get( 5 ) );
	} );
	tests( "$_query", () => {
		const a = $( "#eljq_jquery" );
		const b = $( "#eljq_jquery .b" );
		const c = a.$query( ".b" );
		const d = a.$query( ".e404" );

		testStrict( "jqQuery_0", c.$size(), 3 );
		testStrict( "jqQuery_1", b.$size(), 3 );
		testStrict( "jqQuery_2", d.$size(), 0 );
		testStrict( "jqQuery_3", b.$get( 0 ), c.$get( 0 ) );
		testStrict( "jqQuery_4", b.$get( 1 ), c.$get( 1 ) );
		testStrict( "jqQuery_5", b.$get( 2 ), c.$get( 2 ) );
		testStrict( "jqQuery_6", b.$get( 3 ), c.$get( 3 ) );
	} );
	tests( "$_empty", () => {
		testStrict( "jqEmpty_0", GSUdomQSA( "#eljq_1 *" ).length, 3 );
		$( "#eljq_1" ).$empty();
		testStrict( "jqEmpty_1", GSUdomQSA( "#eljq_1 *" ).length, 0 );
		testStrict( "jqEmpty_2", GSUdomQSA( "#eljq_2 *, #eljq_3 *" ).length, 6 );
		$( "#eljq_2, #eljq_3" ).$empty();
		testStrict( "jqEmpty_3", GSUdomQSA( "#eljq_2 *, #eljq_3 *" ).length, 0 );
	} );
</script>

<!-- ....................................................................... -->
<!-- ..... results ......................................................... -->
<!-- ....................................................................... -->
<script>
	function resultFrame() {
		console.log( `${ nbGroups } : ${ nbTestsOk } / ${ nbTests }` );
		if ( toWait === 0 ) {
			clearInterval( interId );
			if ( nbTestsOk === nbTests ) {
				console.log( "" );
			}
		}
	}

	const interId = setInterval( resultFrame, 50 );
</script>
</body>
</html>
